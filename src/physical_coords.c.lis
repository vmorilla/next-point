/tmp/tmp6HWo36Ld.asm:
     1                          MODULE physical_coords_c
     2                          LINE 0, "physical_coords.c"
physical_coords.c:
                                
     1                          ;--------------------------------------------------------
     2                          ; File Created by SDCC : free open source ISO C Compiler
     3                          ; Version 4.3.0 #14210 (Mac OS X ppc)
     4                          ;--------------------------------------------------------
     5                          	.zxn
     6                          ; Processed by Z88DK
     7                          ;--------------------------------------------------------
     8                          
     9                          	EXTERN __divschar
    10                          	EXTERN __divschar_callee
    11                          	EXTERN __divsint
    12                          	EXTERN __divsint_callee
    13                          	EXTERN __divslong
    14                          	EXTERN __divslong_callee
    15                          	EXTERN __divslonglong
    16                          	EXTERN __divslonglong_callee
    17                          	EXTERN __divsuchar
    18                          	EXTERN __divsuchar_callee
    19                          	EXTERN __divuchar
    20                          	EXTERN __divuchar_callee
    21                          	EXTERN __divuint
    22                          	EXTERN __divuint_callee
    23                          	EXTERN __divulong
    24                          	EXTERN __divulong_callee
    25                          	EXTERN __divulonglong
    26                          	EXTERN __divulonglong_callee
    27                          	EXTERN __divuschar
    28                          	EXTERN __divuschar_callee
    29                          	EXTERN __modschar
    30                          	EXTERN __modschar_callee
    31                          	EXTERN __modsint
    32                          	EXTERN __modsint_callee
    33                          	EXTERN __modslong
    34                          	EXTERN __modslong_callee
    35                          	EXTERN __modslonglong
    36                          	EXTERN __modslonglong_callee
    37                          	EXTERN __modsuchar
    38                          	EXTERN __modsuchar_callee
    39                          	EXTERN __moduchar
    40                          	EXTERN __moduchar_callee
    41                          	EXTERN __moduint
    42                          	EXTERN __moduint_callee
    43                          	EXTERN __modulong
    44                          	EXTERN __modulong_callee
    45                          	EXTERN __modulonglong
    46                          	EXTERN __modulonglong_callee
    47                          	EXTERN __moduschar
    48                          	EXTERN __moduschar_callee
    49                          	EXTERN __mulint
    50                          	EXTERN __mulint_callee
    51                          	EXTERN __mullong
    52                          	EXTERN __mullong_callee
    53                          	EXTERN __mullonglong
    54                          	EXTERN __mullonglong_callee
    55                          	EXTERN __mulschar
    56                          	EXTERN __mulschar_callee
    57                          	EXTERN __mulsuchar
    58                          	EXTERN __mulsuchar_callee
    59                          	EXTERN __muluchar
    60                          	EXTERN __muluchar_callee
    61                          	EXTERN __muluschar
    62                          	EXTERN __muluschar_callee
    63                          	EXTERN __rlslonglong
    64                          	EXTERN __rlslonglong_callee
    65                          	EXTERN __rlulonglong
    66                          	EXTERN __rlulonglong_callee
    67                          	EXTERN __rrslonglong
    68                          	EXTERN __rrslonglong_callee
    69                          	EXTERN __rrulonglong
    70                          	EXTERN __rrulonglong_callee
    71                          	EXTERN ___mulsint2slong
    72                          	EXTERN ___mulsint2slong_callee
    73                          	EXTERN ___muluint2ulong
    74                          	EXTERN ___muluint2ulong_callee
    75                          	EXTERN ___sdcc_call_hl
    76                          	EXTERN ___sdcc_call_iy
    77                          	EXTERN ___sdcc_enter_ix
    78                          	EXTERN banked_call
    79                          	EXTERN _banked_ret
    80                          	EXTERN ___fs2schar
    81                          	EXTERN ___fs2schar_callee
    82                          	EXTERN ___fs2sint
    83                          	EXTERN ___fs2sint_callee
    84                          	EXTERN ___fs2slong
    85                          	EXTERN ___fs2slong_callee
    86                          	EXTERN ___fs2slonglong
    87                          	EXTERN ___fs2slonglong_callee
    88                          	EXTERN ___fs2uchar
    89                          	EXTERN ___fs2uchar_callee
    90                          	EXTERN ___fs2uint
    91                          	EXTERN ___fs2uint_callee
    92                          	EXTERN ___fs2ulong
    93                          	EXTERN ___fs2ulong_callee
    94                          	EXTERN ___fs2ulonglong
    95                          	EXTERN ___fs2ulonglong_callee
    96                          	EXTERN ___fsadd
    97                          	EXTERN ___fsadd_callee
    98                          	EXTERN ___fsdiv
    99                          	EXTERN ___fsdiv_callee
   100                          	EXTERN ___fseq
   101                          	EXTERN ___fseq_callee
   102                          	EXTERN ___fsgt
   103                          	EXTERN ___fsgt_callee
   104                          	EXTERN ___fslt
   105                          	EXTERN ___fslt_callee
   106                          	EXTERN ___fsmul
   107                          	EXTERN ___fsmul_callee
   108                          	EXTERN ___fsneq
   109                          	EXTERN ___fsneq_callee
   110                          	EXTERN ___fssub
   111                          	EXTERN ___fssub_callee
   112                          	EXTERN ___schar2fs
   113                          	EXTERN ___schar2fs_callee
   114                          	EXTERN ___sint2fs
   115                          	EXTERN ___sint2fs_callee
   116                          	EXTERN ___slong2fs
   117                          	EXTERN ___slong2fs_callee
   118                          	EXTERN ___slonglong2fs
   119                          	EXTERN ___slonglong2fs_callee
   120                          	EXTERN ___uchar2fs
   121                          	EXTERN ___uchar2fs_callee
   122                          	EXTERN ___uint2fs
   123                          	EXTERN ___uint2fs_callee
   124                          	EXTERN ___ulong2fs
   125                          	EXTERN ___ulong2fs_callee
   126                          	EXTERN ___ulonglong2fs
   127                          	EXTERN ___ulonglong2fs_callee
   128                          	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
   129                          	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
   130                          	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
   131                          	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
   132                          	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
   133                          	EXTERN ____sdcc_4_ldi_nosave_bc
   134                          	EXTERN ____sdcc_4_ldi_save_bc
   135                          	EXTERN ____sdcc_4_push_hlix
   136                          	EXTERN ____sdcc_4_push_mhl
   137                          	EXTERN ____sdcc_lib_setmem_hl
   138                          	EXTERN ____sdcc_ll_add_de_bc_hl
   139                          	EXTERN ____sdcc_ll_add_de_bc_hlix
   140                          	EXTERN ____sdcc_ll_add_de_hlix_bc
   141                          	EXTERN ____sdcc_ll_add_de_hlix_bcix
   142                          	EXTERN ____sdcc_ll_add_deix_bc_hl
   143                          	EXTERN ____sdcc_ll_add_deix_hlix
   144                          	EXTERN ____sdcc_ll_add_hlix_bc_deix
   145                          	EXTERN ____sdcc_ll_add_hlix_deix_bc
   146                          	EXTERN ____sdcc_ll_add_hlix_deix_bcix
   147                          	EXTERN ____sdcc_ll_asr_hlix_a
   148                          	EXTERN ____sdcc_ll_asr_mbc_a
   149                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
   150                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
   151                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
   152                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
   153                          	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
   154                          	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
   155                          	EXTERN ____sdcc_ll_copy_src_hl_dst_de
   156                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
   157                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
   158                          	EXTERN ____sdcc_ll_lsl_hlix_a
   159                          	EXTERN ____sdcc_ll_lsl_mbc_a
   160                          	EXTERN ____sdcc_ll_lsr_hlix_a
   161                          	EXTERN ____sdcc_ll_lsr_mbc_a
   162                          	EXTERN ____sdcc_ll_push_hlix
   163                          	EXTERN ____sdcc_ll_push_mhl
   164                          	EXTERN ____sdcc_ll_sub_de_bc_hl
   165                          	EXTERN ____sdcc_ll_sub_de_bc_hlix
   166                          	EXTERN ____sdcc_ll_sub_de_hlix_bc
   167                          	EXTERN ____sdcc_ll_sub_de_hlix_bcix
   168                          	EXTERN ____sdcc_ll_sub_deix_bc_hl
   169                          	EXTERN ____sdcc_ll_sub_deix_hlix
   170                          	EXTERN ____sdcc_ll_sub_hlix_bc_deix
   171                          	EXTERN ____sdcc_ll_sub_hlix_deix_bc
   172                          	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
   173                          	EXTERN ____sdcc_load_debc_deix
   174                          	EXTERN ____sdcc_load_dehl_deix
   175                          	EXTERN ____sdcc_load_debc_mhl
   176                          	EXTERN ____sdcc_load_hlde_mhl
   177                          	EXTERN ____sdcc_store_dehl_bcix
   178                          	EXTERN ____sdcc_store_debc_hlix
   179                          	EXTERN ____sdcc_store_debc_mhl
   180                          	EXTERN ____sdcc_cpu_pop_ei
   181                          	EXTERN ____sdcc_cpu_pop_ei_jp
   182                          	EXTERN ____sdcc_cpu_push_di
   183                          	EXTERN ____sdcc_outi
   184                          	EXTERN ____sdcc_outi_128
   185                          	EXTERN ____sdcc_outi_256
   186                          	EXTERN ____sdcc_ldi
   187                          	EXTERN ____sdcc_ldi_128
   188                          	EXTERN ____sdcc_ldi_256
   189                          	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
   190                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
   191                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
   192                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
   193                          	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
   194                          	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
   195                          	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
   196                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
   197                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
   198                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
   199                          	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
   200                          	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
   201                          	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
   202                          	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
   203                          	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
   204                          	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
   205                          	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
   206                          
   207                          ;--------------------------------------------------------
   208                          ; Public variables in this module
   209                          ;--------------------------------------------------------
   210                          	GLOBAL _formerBallHidden
   211                          	GLOBAL _formerBallSlot
   212                          	GLOBAL _netPosition
   213                          	GLOBAL _bottomPlayerPosition
   214                          	GLOBAL _topPlayerPosition
   215                          	GLOBAL _ballShadowPosition
   216                          	GLOBAL _ballPosition
   217                          	GLOBAL _hide_ball
   218                          	GLOBAL _update_screen
   219                          ;--------------------------------------------------------
   220                          ; Externals used
   221                          ;--------------------------------------------------------
   222                          	GLOBAL _umpire_call_touch
   223                          	GLOBAL _umpire_call_match_point
   224                          	GLOBAL _umpire_call_set_point
   225                          	GLOBAL _umpire_call_game_point
   226                          	GLOBAL _umpire_call_match_for_player
   227                          	GLOBAL _umpire_call_set_for_player
   228                          	GLOBAL _umpire_call_game_for_player
   229                          	GLOBAL _umpire_call_score
   230                          	GLOBAL _umpire_call_service
   231                          	GLOBAL _umpire_call_second_service
   232                          	GLOBAL _umpire_call_out
   233                          	GLOBAL _umpire_call_let
   234                          	GLOBAL _umpire_call_first_service
   235                          	GLOBAL _umpire_call_fault
   236                          	GLOBAL _umpire_call_double_fault
   237                          	GLOBAL _umpire_call_ace
   238                          	GLOBAL _update_umpire
   239                          	GLOBAL _init_umpire
   240                          	GLOBAL _reset_ticks
   241                          	GLOBAL _wait_for_ticks
   242                          	GLOBAL _closest_type_of_hit
   243                          	GLOBAL _ball_at_reach
   244                          	GLOBAL _set_player_status
   245                          	GLOBAL _get_player
   246                          	GLOBAL _update_players
   247                          	GLOBAL _init_controls
   248                          	GLOBAL _diplay_profile
   249                          	GLOBAL _in_mouse_kempston_wheel_delta
   250                          	GLOBAL _in_mouse_kempston_wheel
   251                          	GLOBAL _in_mouse_kempston_callee
   252                          	GLOBAL _in_mouse_kempston
   253                          	GLOBAL _in_mouse_kempston_setpos_callee
   254                          	GLOBAL _in_mouse_kempston_setpos
   255                          	GLOBAL _in_mouse_kempston_reset
   256                          	GLOBAL _in_mouse_kempston_init
   257                          	GLOBAL _in_mouse_amx_wheel_delta
   258                          	GLOBAL _in_mouse_amx_wheel
   259                          	GLOBAL _in_mouse_amx_callee
   260                          	GLOBAL _in_mouse_amx
   261                          	GLOBAL _in_mouse_amx_setpos_callee
   262                          	GLOBAL _in_mouse_amx_setpos
   263                          	GLOBAL _in_mouse_amx_reset
   264                          	GLOBAL _in_mouse_amx_init_callee
   265                          	GLOBAL _in_mouse_amx_init
   266                          	GLOBAL _in_stick_sinclair2
   267                          	GLOBAL _in_stick_sinclair1
   268                          	GLOBAL _in_stick_kempston
   269                          	GLOBAL _in_stick_fuller
   270                          	GLOBAL _in_stick_cursor
   271                          	GLOBAL _in_stick_keyboard_fastcall
   272                          	GLOBAL _in_stick_keyboard
   273                          	GLOBAL _in_wait_nokey
   274                          	GLOBAL _in_wait_key
   275                          	GLOBAL _in_test_key
   276                          	GLOBAL _in_pause_fastcall
   277                          	GLOBAL _in_pause
   278                          	GLOBAL _in_key_scancode_fastcall
   279                          	GLOBAL _in_key_scancode
   280                          	GLOBAL _in_key_pressed_fastcall
   281                          	GLOBAL _in_key_pressed
   282                          	GLOBAL _in_inkey
   283                          	GLOBAL _ball_future_x_and_height
   284                          	GLOBAL _set_ball_velocity_net_height
   285                          	GLOBAL _set_lob_ball_velocity
   286                          	GLOBAL _update_ball
   287                          	GLOBAL _xy_in_boundary
   288                          	GLOBAL _point_in_boundary
   289                          	GLOBAL _x_projection
   290                          	GLOBAL _clip_sprites_window
   291                          	GLOBAL _setup_relative_sprite
   292                          	GLOBAL _setup_unified_sprite
   293                          	GLOBAL _set_sprite_index
   294                          	GLOBAL _set_tilemap_offset
   295                          	GLOBAL _clip_tilemap_window
   296                          	GLOBAL _set_layer2_offset
   297                          	GLOBAL _clip_layer2_window
   298                          	GLOBAL _ZXN_NEXTREG_UPDATE
   299                          	GLOBAL _zx_pattern_fill_callee
   300                          	GLOBAL _zx_pattern_fill
   301                          	GLOBAL _tshr_saddrpup_fastcall
   302                          	GLOBAL _tshr_saddrpup
   303                          	GLOBAL _tshr_saddrpright_callee
   304                          	GLOBAL _tshr_saddrpright
   305                          	GLOBAL _tshr_saddrpleft_callee
   306                          	GLOBAL _tshr_saddrpleft
   307                          	GLOBAL _tshr_saddrpdown_fastcall
   308                          	GLOBAL _tshr_saddrpdown
   309                          	GLOBAL _tshr_saddrcup_fastcall
   310                          	GLOBAL _tshr_saddrcup
   311                          	GLOBAL _tshr_saddrcright_fastcall
   312                          	GLOBAL _tshr_saddrcright
   313                          	GLOBAL _tshr_saddrcleft_fastcall
   314                          	GLOBAL _tshr_saddrcleft
   315                          	GLOBAL _tshr_saddrcdown_fastcall
   316                          	GLOBAL _tshr_saddrcdown
   317                          	GLOBAL _tshr_saddr2py_fastcall
   318                          	GLOBAL _tshr_saddr2py
   319                          	GLOBAL _tshr_saddr2px_fastcall
   320                          	GLOBAL _tshr_saddr2px
   321                          	GLOBAL _tshr_saddr2cy_fastcall
   322                          	GLOBAL _tshr_saddr2cy
   323                          	GLOBAL _tshr_saddr2cx_fastcall
   324                          	GLOBAL _tshr_saddr2cx
   325                          	GLOBAL _tshr_py2saddr_fastcall
   326                          	GLOBAL _tshr_py2saddr
   327                          	GLOBAL _tshr_pxy2saddr_callee
   328                          	GLOBAL _tshr_pxy2saddr
   329                          	GLOBAL _tshr_px2bitmask_fastcall
   330                          	GLOBAL _tshr_px2bitmask
   331                          	GLOBAL _tshr_cy2saddr_fastcall
   332                          	GLOBAL _tshr_cy2saddr
   333                          	GLOBAL _tshr_cxy2saddr_callee
   334                          	GLOBAL _tshr_cxy2saddr
   335                          	GLOBAL _tshr_bitmask2px_fastcall
   336                          	GLOBAL _tshr_bitmask2px
   337                          	GLOBAL _tshc_saddrpup_fastcall
   338                          	GLOBAL _tshc_saddrpup
   339                          	GLOBAL _tshc_saddrpright_callee
   340                          	GLOBAL _tshc_saddrpright
   341                          	GLOBAL _tshc_saddrpleft_callee
   342                          	GLOBAL _tshc_saddrpleft
   343                          	GLOBAL _tshc_saddrpdown_fastcall
   344                          	GLOBAL _tshc_saddrpdown
   345                          	GLOBAL _tshc_saddrcup_fastcall
   346                          	GLOBAL _tshc_saddrcup
   347                          	GLOBAL _tshc_saddrcright_fastcall
   348                          	GLOBAL _tshc_saddrcright
   349                          	GLOBAL _tshc_saddrcleft_fastcall
   350                          	GLOBAL _tshc_saddrcleft
   351                          	GLOBAL _tshc_saddrcdown_fastcall
   352                          	GLOBAL _tshc_saddrcdown
   353                          	GLOBAL _tshc_saddr2py_fastcall
   354                          	GLOBAL _tshc_saddr2py
   355                          	GLOBAL _tshc_saddr2px_fastcall
   356                          	GLOBAL _tshc_saddr2px
   357                          	GLOBAL _tshc_saddr2cy_fastcall
   358                          	GLOBAL _tshc_saddr2cy
   359                          	GLOBAL _tshc_saddr2cx_fastcall
   360                          	GLOBAL _tshc_saddr2cx
   361                          	GLOBAL _tshc_saddr2aaddr_fastcall
   362                          	GLOBAL _tshc_saddr2aaddr
   363                          	GLOBAL _tshc_py2saddr_fastcall
   364                          	GLOBAL _tshc_py2saddr
   365                          	GLOBAL _tshc_py2aaddr_fastcall
   366                          	GLOBAL _tshc_py2aaddr
   367                          	GLOBAL _tshc_pxy2saddr_callee
   368                          	GLOBAL _tshc_pxy2saddr
   369                          	GLOBAL _tshc_pxy2aaddr_callee
   370                          	GLOBAL _tshc_pxy2aaddr
   371                          	GLOBAL _tshc_px2bitmask_fastcall
   372                          	GLOBAL _tshc_px2bitmask
   373                          	GLOBAL _tshc_cy2saddr_fastcall
   374                          	GLOBAL _tshc_cy2saddr
   375                          	GLOBAL _tshc_cy2aaddr_fastcall
   376                          	GLOBAL _tshc_cy2aaddr
   377                          	GLOBAL _tshc_cxy2saddr_callee
   378                          	GLOBAL _tshc_cxy2saddr
   379                          	GLOBAL _tshc_cxy2aaddr_callee
   380                          	GLOBAL _tshc_cxy2aaddr
   381                          	GLOBAL _tshc_bitmask2px_fastcall
   382                          	GLOBAL _tshc_bitmask2px
   383                          	GLOBAL _tshc_aaddrpup_fastcall
   384                          	GLOBAL _tshc_aaddrpup
   385                          	GLOBAL _tshc_aaddrpright_callee
   386                          	GLOBAL _tshc_aaddrpright
   387                          	GLOBAL _tshc_aaddrpleft_callee
   388                          	GLOBAL _tshc_aaddrpleft
   389                          	GLOBAL _tshc_aaddrpdown_fastcall
   390                          	GLOBAL _tshc_aaddrpdown
   391                          	GLOBAL _tshc_aaddrcup_fastcall
   392                          	GLOBAL _tshc_aaddrcup
   393                          	GLOBAL _tshc_aaddrcright_fastcall
   394                          	GLOBAL _tshc_aaddrcright
   395                          	GLOBAL _tshc_aaddrcleft_fastcall
   396                          	GLOBAL _tshc_aaddrcleft
   397                          	GLOBAL _tshc_aaddrcdown_fastcall
   398                          	GLOBAL _tshc_aaddrcdown
   399                          	GLOBAL _tshc_aaddr2saddr_fastcall
   400                          	GLOBAL _tshc_aaddr2saddr
   401                          	GLOBAL _tshc_aaddr2py_fastcall
   402                          	GLOBAL _tshc_aaddr2py
   403                          	GLOBAL _tshc_aaddr2px_fastcall
   404                          	GLOBAL _tshc_aaddr2px
   405                          	GLOBAL _tshc_aaddr2cy_fastcall
   406                          	GLOBAL _tshc_aaddr2cy
   407                          	GLOBAL _tshc_aaddr2cx_fastcall
   408                          	GLOBAL _tshc_aaddr2cx
   409                          	GLOBAL _zx_saddrpup_fastcall
   410                          	GLOBAL _zx_saddrpup
   411                          	GLOBAL _zx_saddrpright_callee
   412                          	GLOBAL _zx_saddrpright
   413                          	GLOBAL _zx_saddrpleft_callee
   414                          	GLOBAL _zx_saddrpleft
   415                          	GLOBAL _zx_saddrpdown_fastcall
   416                          	GLOBAL _zx_saddrpdown
   417                          	GLOBAL _zx_saddrcup_fastcall
   418                          	GLOBAL _zx_saddrcup
   419                          	GLOBAL _zx_saddrcright_fastcall
   420                          	GLOBAL _zx_saddrcright
   421                          	GLOBAL _zx_saddrcleft_fastcall
   422                          	GLOBAL _zx_saddrcleft
   423                          	GLOBAL _zx_saddrcdown_fastcall
   424                          	GLOBAL _zx_saddrcdown
   425                          	GLOBAL _zx_saddr2py_fastcall
   426                          	GLOBAL _zx_saddr2py
   427                          	GLOBAL _zx_saddr2px_fastcall
   428                          	GLOBAL _zx_saddr2px
   429                          	GLOBAL _zx_saddr2cy_fastcall
   430                          	GLOBAL _zx_saddr2cy
   431                          	GLOBAL _zx_saddr2cx_fastcall
   432                          	GLOBAL _zx_saddr2cx
   433                          	GLOBAL _zx_saddr2aaddr_fastcall
   434                          	GLOBAL _zx_saddr2aaddr
   435                          	GLOBAL _zx_py2saddr_fastcall
   436                          	GLOBAL _zx_py2saddr
   437                          	GLOBAL _zx_py2aaddr_fastcall
   438                          	GLOBAL _zx_py2aaddr
   439                          	GLOBAL _zx_pxy2saddr_callee
   440                          	GLOBAL _zx_pxy2saddr
   441                          	GLOBAL _zx_pxy2aaddr_callee
   442                          	GLOBAL _zx_pxy2aaddr
   443                          	GLOBAL _zx_px2bitmask_fastcall
   444                          	GLOBAL _zx_px2bitmask
   445                          	GLOBAL _zx_cy2saddr_fastcall
   446                          	GLOBAL _zx_cy2saddr
   447                          	GLOBAL _zx_cy2aaddr_fastcall
   448                          	GLOBAL _zx_cy2aaddr
   449                          	GLOBAL _zx_cxy2saddr_callee
   450                          	GLOBAL _zx_cxy2saddr
   451                          	GLOBAL _zx_cxy2aaddr_callee
   452                          	GLOBAL _zx_cxy2aaddr
   453                          	GLOBAL _zx_bitmask2px_fastcall
   454                          	GLOBAL _zx_bitmask2px
   455                          	GLOBAL _zx_aaddrcup_fastcall
   456                          	GLOBAL _zx_aaddrcup
   457                          	GLOBAL _zx_aaddrcright_fastcall
   458                          	GLOBAL _zx_aaddrcright
   459                          	GLOBAL _zx_aaddrcleft_fastcall
   460                          	GLOBAL _zx_aaddrcleft
   461                          	GLOBAL _zx_aaddrcdown_fastcall
   462                          	GLOBAL _zx_aaddrcdown
   463                          	GLOBAL _zx_aaddr2saddr_fastcall
   464                          	GLOBAL _zx_aaddr2saddr
   465                          	GLOBAL _zx_aaddr2py_fastcall
   466                          	GLOBAL _zx_aaddr2py
   467                          	GLOBAL _zx_aaddr2px_fastcall
   468                          	GLOBAL _zx_aaddr2px
   469                          	GLOBAL _zx_aaddr2cy_fastcall
   470                          	GLOBAL _zx_aaddr2cy
   471                          	GLOBAL _zx_aaddr2cx_fastcall
   472                          	GLOBAL _zx_aaddr2cx
   473                          	GLOBAL _tshr_visit_wc_pix_callee
   474                          	GLOBAL _tshr_visit_wc_pix
   475                          	GLOBAL _tshr_scroll_wc_up_pix_callee
   476                          	GLOBAL _tshr_scroll_wc_up_pix
   477                          	GLOBAL _tshr_scroll_up_pix_callee
   478                          	GLOBAL _tshr_scroll_up_pix
   479                          	GLOBAL _tshr_scroll_up_callee
   480                          	GLOBAL _tshr_scroll_up
   481                          	GLOBAL _tshr_cls_wc_pix_callee
   482                          	GLOBAL _tshr_cls_wc_pix
   483                          	GLOBAL _tshr_cls_pix_fastcall
   484                          	GLOBAL _tshr_cls_pix
   485                          	GLOBAL _tshr_cls_attr_fastcall
   486                          	GLOBAL _tshr_cls_attr
   487                          	GLOBAL _tshr_cls_fastcall
   488                          	GLOBAL _tshr_cls
   489                          	GLOBAL _tshc_visit_wc_pix_callee
   490                          	GLOBAL _tshc_visit_wc_pix
   491                          	GLOBAL _tshc_visit_wc_attr_callee
   492                          	GLOBAL _tshc_visit_wc_attr
   493                          	GLOBAL _tshc_scroll_wc_up_pix_callee
   494                          	GLOBAL _tshc_scroll_wc_up_pix
   495                          	GLOBAL _tshc_scroll_wc_up_attr_callee
   496                          	GLOBAL _tshc_scroll_wc_up_attr
   497                          	GLOBAL _tshc_scroll_wc_up_callee
   498                          	GLOBAL _tshc_scroll_wc_up
   499                          	GLOBAL _tshc_scroll_up_pix_callee
   500                          	GLOBAL _tshc_scroll_up_pix
   501                          	GLOBAL _tshc_scroll_up_attr_callee
   502                          	GLOBAL _tshc_scroll_up_attr
   503                          	GLOBAL _tshc_scroll_up_callee
   504                          	GLOBAL _tshc_scroll_up
   505                          	GLOBAL _tshc_cls_wc_pix_callee
   506                          	GLOBAL _tshc_cls_wc_pix
   507                          	GLOBAL _tshc_cls_wc_attr_callee
   508                          	GLOBAL _tshc_cls_wc_attr
   509                          	GLOBAL _tshc_cls_wc_callee
   510                          	GLOBAL _tshc_cls_wc
   511                          	GLOBAL _tshc_cls_pix_fastcall
   512                          	GLOBAL _tshc_cls_pix
   513                          	GLOBAL _tshc_cls_attr_fastcall
   514                          	GLOBAL _tshc_cls_attr
   515                          	GLOBAL _tshc_cls_fastcall
   516                          	GLOBAL _tshc_cls
   517                          	GLOBAL _zx_visit_wc_pix_callee
   518                          	GLOBAL _zx_visit_wc_pix
   519                          	GLOBAL _zx_visit_wc_attr_callee
   520                          	GLOBAL _zx_visit_wc_attr
   521                          	GLOBAL _zx_scroll_wc_up_pix_callee
   522                          	GLOBAL _zx_scroll_wc_up_pix
   523                          	GLOBAL _zx_scroll_wc_up_attr_callee
   524                          	GLOBAL _zx_scroll_wc_up_attr
   525                          	GLOBAL _zx_scroll_wc_up_callee
   526                          	GLOBAL _zx_scroll_wc_up
   527                          	GLOBAL _zx_scroll_up_pix_callee
   528                          	GLOBAL _zx_scroll_up_pix
   529                          	GLOBAL _zx_scroll_up_attr_callee
   530                          	GLOBAL _zx_scroll_up_attr
   531                          	GLOBAL _zx_scroll_up_callee
   532                          	GLOBAL _zx_scroll_up
   533                          	GLOBAL _zx_cls_wc_pix_callee
   534                          	GLOBAL _zx_cls_wc_pix
   535                          	GLOBAL _zx_cls_wc_attr_callee
   536                          	GLOBAL _zx_cls_wc_attr
   537                          	GLOBAL _zx_cls_wc_callee
   538                          	GLOBAL _zx_cls_wc
   539                          	GLOBAL _zx_cls_pix_fastcall
   540                          	GLOBAL _zx_cls_pix
   541                          	GLOBAL _zx_cls_attr_fastcall
   542                          	GLOBAL _zx_cls_attr
   543                          	GLOBAL _zx_cls_fastcall
   544                          	GLOBAL _zx_cls
   545                          	GLOBAL _zx_border_fastcall
   546                          	GLOBAL _zx_border
   547                          	GLOBAL _ts_vmod_fastcall
   548                          	GLOBAL _ts_vmod
   549                          	GLOBAL _zx_tape_verify_block_callee
   550                          	GLOBAL _zx_tape_verify_block
   551                          	GLOBAL _zx_tape_save_block_callee
   552                          	GLOBAL _zx_tape_save_block
   553                          	GLOBAL _zx_tape_load_block_callee
   554                          	GLOBAL _zx_tape_load_block
   555                          	GLOBAL _check_version_nextzxos_fastcall
   556                          	GLOBAL _check_version_nextzxos
   557                          	GLOBAL _check_version_esxdos_fastcall
   558                          	GLOBAL _check_version_esxdos
   559                          	GLOBAL _check_version_core_fastcall
   560                          	GLOBAL _check_version_core
   561                          	GLOBAL _zxn_mangle_bank_state_fastcall
   562                          	GLOBAL _zxn_mangle_bank_state
   563                          	GLOBAL _zxn_write_sysvar_bank_state_fastcall
   564                          	GLOBAL _zxn_write_sysvar_bank_state
   565                          	GLOBAL _zxn_read_sysvar_bank_state
   566                          	GLOBAL _zxn_write_bank_state_fastcall
   567                          	GLOBAL _zxn_write_bank_state
   568                          	GLOBAL _zxn_write_mmu_state_fastcall
   569                          	GLOBAL _zxn_write_mmu_state
   570                          	GLOBAL _zxn_read_mmu_state_fastcall
   571                          	GLOBAL _zxn_read_mmu_state
   572                          	GLOBAL _zxn_page_from_addr_fastcall
   573                          	GLOBAL _zxn_page_from_addr
   574                          	GLOBAL _zxn_addr_from_page_fastcall
   575                          	GLOBAL _zxn_addr_from_page
   576                          	GLOBAL _zxn_addr_in_mmu_callee
   577                          	GLOBAL _zxn_addr_in_mmu
   578                          	GLOBAL _zxn_mmu_from_addr_fastcall
   579                          	GLOBAL _zxn_mmu_from_addr
   580                          	GLOBAL _zxn_addr_from_mmu_fastcall
   581                          	GLOBAL _zxn_addr_from_mmu
   582                          	GLOBAL _ZXN_WRITE_MMU7_fastcall
   583                          	GLOBAL _ZXN_WRITE_MMU7
   584                          	GLOBAL _ZXN_WRITE_MMU6_fastcall
   585                          	GLOBAL _ZXN_WRITE_MMU6
   586                          	GLOBAL _ZXN_WRITE_MMU5_fastcall
   587                          	GLOBAL _ZXN_WRITE_MMU5
   588                          	GLOBAL _ZXN_WRITE_MMU4_fastcall
   589                          	GLOBAL _ZXN_WRITE_MMU4
   590                          	GLOBAL _ZXN_WRITE_MMU3_fastcall
   591                          	GLOBAL _ZXN_WRITE_MMU3
   592                          	GLOBAL _ZXN_WRITE_MMU2_fastcall
   593                          	GLOBAL _ZXN_WRITE_MMU2
   594                          	GLOBAL _ZXN_WRITE_MMU1_fastcall
   595                          	GLOBAL _ZXN_WRITE_MMU1
   596                          	GLOBAL _ZXN_WRITE_MMU0_fastcall
   597                          	GLOBAL _ZXN_WRITE_MMU0
   598                          	GLOBAL _ZXN_READ_MMU7
   599                          	GLOBAL _ZXN_READ_MMU6
   600                          	GLOBAL _ZXN_READ_MMU5
   601                          	GLOBAL _ZXN_READ_MMU4
   602                          	GLOBAL _ZXN_READ_MMU3
   603                          	GLOBAL _ZXN_READ_MMU2
   604                          	GLOBAL _ZXN_READ_MMU1
   605                          	GLOBAL _ZXN_READ_MMU0
   606                          	GLOBAL _ZXN_WRITE_REG_callee
   607                          	GLOBAL _ZXN_WRITE_REG
   608                          	GLOBAL _ZXN_READ_REG_fastcall
   609                          	GLOBAL _ZXN_READ_REG
   610                          	GLOBAL _prepare_sprite_slots
   611                          	GLOBAL _change_sprite_visibility
   612                          	GLOBAL _show_sprite
   613                          	GLOBAL _hide_sprite
   614                          	GLOBAL _move_sprite
   615                          	GLOBAL _loadAttrsAndPatterns
   616                          	GLOBAL _loadSpriteFrame
   617                          	GLOBAL _init_sprite_slots
   618                          	GLOBAL _intrinsic_swap_word_32_fastcall
   619                          	GLOBAL _intrinsic_swap_word_32
   620                          	GLOBAL _intrinsic_swap_endian_32_fastcall
   621                          	GLOBAL _intrinsic_swap_endian_32
   622                          	GLOBAL _intrinsic_swap_endian_16_fastcall
   623                          	GLOBAL _intrinsic_swap_endian_16
   624                          	GLOBAL _intrinsic_return_de
   625                          	GLOBAL _intrinsic_return_bc
   626                          	GLOBAL _intrinsic_exx
   627                          	GLOBAL _intrinsic_ex_de_hl
   628                          	GLOBAL _intrinsic_nop
   629                          	GLOBAL _intrinsic_im_2
   630                          	GLOBAL _intrinsic_im_1
   631                          	GLOBAL _intrinsic_im_0
   632                          	GLOBAL _intrinsic_retn
   633                          	GLOBAL _intrinsic_reti
   634                          	GLOBAL _intrinsic_halt
   635                          	GLOBAL _intrinsic_ei
   636                          	GLOBAL _intrinsic_di
   637                          	GLOBAL _intrinsic_stub
   638                          	GLOBAL _intrinsic_ini
   639                          	GLOBAL _intrinsic_outi
   640                          	GLOBAL _intrinsic_ldi
   641                          	GLOBAL _umpire_frame
   642                          	GLOBAL _frame_counter
   643                          	GLOBAL _player_bottom
   644                          	GLOBAL _player_top
   645                          	GLOBAL _game_settings
   646                          	GLOBAL _ppponent_profile
   647                          	GLOBAL _ball
   648                          	GLOBAL _GLOBAL_ZXN_PORT_DFFD
   649                          	GLOBAL _GLOBAL_ZXN_PORT_7FFD
   650                          	GLOBAL _GLOBAL_ZXN_PORT_1FFD
   651                          	GLOBAL _GLOBAL_ZXN_PORT_FE
   652                          	GLOBAL _GLOBAL_TS_PORT_FE
   653                          	GLOBAL _GLOBAL_ZX_PORT_7FFD
   654                          	GLOBAL _GLOBAL_ZX_PORT_1FFD
   655                          	GLOBAL _GLOBAL_ZX_PORT_FE
   656                          	GLOBAL _spriteSlots
   657                          	GLOBAL _court_boundaries
   658                          ;--------------------------------------------------------
   659                          ; special function registers
   660                          ;--------------------------------------------------------
   661                          defc _IO_FE	=	0x00fe
   662                          defc _IO_FF	=	0x00ff
   663                          defc _IO_TIMEX_VIDEO_MODE	=	0x00ff
   664                          defc _IO_1FFD	=	0x1ffd
   665                          defc _IO_7FFD	=	0x7ffd
   666                          defc _IO_DFFD	=	0xdffd
   667                          defc _IO_0F	=	0x000f
   668                          defc _IO_DAC_L0	=	0x000f
   669                          defc _IO_1F	=	0x001f
   670                          defc _IO_DAC_L1	=	0x001f
   671                          defc _IO_4F	=	0x004f
   672                          defc _IO_DAC_R0	=	0x004f
   673                          defc _IO_5F	=	0x005f
   674                          defc _IO_DAC_R1	=	0x005f
   675                          defc _IO_DF	=	0x00df
   676                          defc _IO_DAC_M0	=	0x00df
   677                          defc _IO_FFFD	=	0xfffd
   678                          defc _IO_TURBOSOUND	=	0xfffd
   679                          defc _IO_AY_REG	=	0xfffd
   680                          defc _IO_BFFD	=	0xbffd
   681                          defc _IO_AY_DAT	=	0xbffd
   682                          defc _IO_123B	=	0x123b
   683                          defc _IO_LAYER_2_CONFIG	=	0x123b
   684                          defc _IO_303B	=	0x303b
   685                          defc _IO_SPRITE_SLOT	=	0x303b
   686                          defc _IO_SPRITE_FLAGS	=	0x303b
   687                          defc _IO_57	=	0x0057
   688                          defc _IO_SPRITE_ATTRIBUTE	=	0x0057
   689                          defc _IO_5B	=	0x005b
   690                          defc _IO_SPRITE_PATTERN	=	0x005b
   691                          defc _IO_143B	=	0x143b
   692                          defc _IO_UART_RX	=	0x143b
   693                          defc _IO_UART_BAUD_RATE	=	0x143b
   694                          defc _IO_133B	=	0x133b
   695                          defc _IO_UART_TX	=	0x133b
   696                          defc _IO_UART_STATUS	=	0x133b
   697                          defc _IO_6B	=	0x006b
   698                          defc _IO_DMA	=	0x006b
   699                          defc _IO_E3	=	0x00e3
   700                          defc _IO_DIVIDE_CONTROL	=	0x00e3
   701                          defc _IO_E7	=	0x00e7
   702                          defc _IO_SPI_CONTROL	=	0x00e7
   703                          defc _IO_SPI_STATUS	=	0x00e7
   704                          defc _IO_EB	=	0x00eb
   705                          defc _IO_SPI_DATA	=	0x00eb
   706                          defc _IO_103B	=	0x103b
   707                          defc _IO_I2C_SCL	=	0x103b
   708                          defc _IO_113B	=	0x113b
   709                          defc _IO_I2C_SDA	=	0x113b
   710                          defc _IO_LED_L	=	0x103b
   711                          defc _IO_243B	=	0x243b
   712                          defc _IO_NEXTREG_REG	=	0x243b
   713                          defc _IO_253B	=	0x253b
   714                          defc _IO_NEXTREG_DAT	=	0x253b
   715                          ;--------------------------------------------------------
   716                          ; ram data
   717                          ;--------------------------------------------------------
   718                          	SECTION bss_compiler
   719                          _ballPosition:
   720  0000  00000000          	DEFS 4
   721                          _ballShadowPosition:
   722  0004  00000000          	DEFS 4
   723                          _topPlayerPosition:
   724  0008  00000000          	DEFS 4
   725                          _bottomPlayerPosition:
   726  000c  00000000          	DEFS 4
   727                          _netPosition:
   728  0010  00000000          	DEFS 4
   729                          ;--------------------------------------------------------
   730                          ; ram data
   731                          ;--------------------------------------------------------
   732                          
   733                          IF 0
   734                          
   735                          ; .area _INITIALIZED removed by z88dk
   736                          
   737                          _formerBallSlot:
   738                          	DEFS 1
   739                          _formerBallHidden:
   740                          	DEFS 1
   741                          
   742                          ENDIF
   743                          
   744                          ;--------------------------------------------------------
   745                          ; absolute external ram data
   746                          ;--------------------------------------------------------
   747                          	SECTION IGNORE
   748                          ;--------------------------------------------------------
   749                          ; global & static initialisations
   750                          ;--------------------------------------------------------
   751                          	SECTION code_crt_init
   752                          ;--------------------------------------------------------
   753                          ; Home
   754                          ;--------------------------------------------------------
   755                          	SECTION IGNORE
   756                          ;--------------------------------------------------------
   757                          ; code
   758                          ;--------------------------------------------------------
   759                          	SECTION BANK_8
   760                          ;physical_coords.c:68: ball.hidden = true;
   761                          ;	---------------------------------
   762                          ; Function hide_ball
   763                          ; ---------------------------------
   764                          _hide_ball:
   765                          ;physical_coords.c:70: hide_sprite(&spriteSlots[SLOT_BALL_MIDDLE_TOP]);
   766  0000  210000            	ld	hl, +(_ball + 24)
   767  0003  3601              	ld	(hl),0x01
   768                          ;physical_coords.c:71: hide_sprite(&spriteSlots[SLOT_BALL_MIDDLE_BOTTOM]);
   769  0005  210600            	ld	hl, +(_spriteSlots + 6)
   770  0008  e5                	push	hl
   771  0009  cd0000            	call	_hide_sprite
   772                          ;physical_coords.c:72: hide_sprite(&spriteSlots[SLOT_BALL_BOTTOM]);
   773  000c  211200            	ld	hl, +(_spriteSlots + 18)
   774  000f  e3                	ex	(sp),hl
   775  0010  cd0000            	call	_hide_sprite
   776                          ;physical_coords.c:73: hide_sprite(&spriteSlots[SLOT_BALL_SHADOW]);
   777  0013  212a00            	ld	hl, +(_spriteSlots + 42)
   778  0016  e3                	ex	(sp),hl
   779  0017  cd0000            	call	_hide_sprite
   780                          ;physical_coords.c:74: }
   781  001a  213600            	ld	hl, +(_spriteSlots + 54)
   782  001d  e3                	ex	(sp),hl
   783  001e  cd0000            	call	_hide_sprite
   784                          ;physical_coords.c:75:
   785  0021  210000            	ld	hl,_spriteSlots
   786  0024  e3                	ex	(sp),hl
   787  0025  cd0000            	call	_hide_sprite
   788  0028  f1                	pop	af
   789                          ;physical_coords.c:76: // TODO: simplify (camera has been removed)
   790  0029  c9                	ret
   791                          	SECTION BANK_8
   792                          ;physical_coords.c:79: Slot ball_slot = ball.y < NET_POSITION_Y ? (ball.y < player_top.y ? SLOT_BALL_TOP : SLOT_BALL_MIDDLE_TOP)
   793                          ;	---------------------------------
   794                          ; Function update_screen
   795                          ; ---------------------------------
   796                          _update_screen:
   797  002a  cd0000            	call	___sdcc_enter_ix
   798  002d  21f7ff            	ld	hl, -9
   799  0030  39                	add	hl, sp
   800  0031  f9                	ld	sp, hl
   801                          ;physical_coords.c:81:
   802  0032  110400            	ld	de,+(_ball + 4)
   803  0035  210400            	ld	hl,4
   804  0038  39                	add	hl, sp
   805  0039  eb                	ex	de, hl
   806  003a  cd0000            	call	____sdcc_4_ldi_nosave_bc
   807  003d  212043            	ld	hl,0x4320
   808  0040  e5                	push	hl
   809  0041  210000            	ld	hl,0x0000
   810  0044  e5                	push	hl
   811  0045  21fbff            	ld	hl,-5
   812  0048  cd0000            	call	____sdcc_4_push_hlix
   813  004b  cd0000            	call	___fslt_callee
   814  004e  7d                	ld	a, l
   815  004f  b7                	or	a, a
   816  0050  281e              	jr	Z,l_update_screen_00114
   817  0052  ed4b0e00          	ld	bc,(_player_top + 14)
   818  0056  2a1000            	ld	hl,(_player_top + 14 + 2)
   819  0059  e5                	push	hl
   820  005a  c5                	push	bc
   821  005b  21fbff            	ld	hl,-5
   822  005e  cd0000            	call	____sdcc_4_push_hlix
   823  0061  cd0000            	call	___fslt_callee
   824  0064  7d                	ld	a, l
   825  0065  b7                	or	a, a
   826  0066  2804              	jr	Z,l_update_screen_00116
   827  0068  3e01              	ld	a,0x01
   828  006a  1802              	jr	l_update_screen_00117
   829                          l_update_screen_00116:
   830  006c  3e03              	ld	a,0x03
   831                          l_update_screen_00117:
   832  006e  181c              	jr	l_update_screen_00115
   833                          l_update_screen_00114:
   834  0070  ed4b0e00          	ld	bc,(_player_bottom + 14)
   835  0074  2a1000            	ld	hl,(_player_bottom + 14 + 2)
   836  0077  e5                	push	hl
   837  0078  c5                	push	bc
   838  0079  21fbff            	ld	hl,-5
   839  007c  cd0000            	call	____sdcc_4_push_hlix
   840  007f  cd0000            	call	___fslt_callee
   841  0082  7d                	ld	a, l
   842  0083  b7                	or	a, a
   843  0084  2804              	jr	Z,l_update_screen_00118
   844  0086  3e07              	ld	a,0x07
   845  0088  1802              	jr	l_update_screen_00119
   846                          l_update_screen_00118:
   847  008a  3e09              	ld	a,0x09
   848                          l_update_screen_00119:
   849                          l_update_screen_00115:
   850  008c  dd77ff            	ld	(ix-1),a
   851                          ;physical_coords.c:85:
   852  008f  ed4b0000          	ld	bc,(_ball)
   853  0093  2a0200            	ld	hl, (_ball + 2)
   854  0096  dd5efd            	ld	e,(ix-3)
   855  0099  dd56fe            	ld	d,(ix-2)
   856  009c  d5                	push	de
   857  009d  dd5efb            	ld	e,(ix-5)
   858  00a0  dd56fc            	ld	d,(ix-4)
   859  00a3  d5                	push	de
   860  00a4  e5                	push	hl
   861  00a5  c5                	push	bc
   862  00a6  cd0000            	call	_x_projection
   863  00a9  f1                	pop	af
   864  00aa  f1                	pop	af
   865  00ab  f1                	pop	af
   866  00ac  f1                	pop	af
   867  00ad  e3                	ex	(sp), hl
   868  00ae  dd73f9            	ld	(ix-7),e
   869  00b1  dd72fa            	ld	(ix-6),d
   870                          ;physical_coords.c:86: // Updates ball and ball shadow position in the sacreen
   871  00b4  110400            	ld	de,+(_ball + 4)
   872  00b7  210400            	ld	hl,4
   873  00ba  39                	add	hl, sp
   874  00bb  eb                	ex	de, hl
   875  00bc  cd0000            	call	____sdcc_4_ldi_nosave_bc
   876  00bf  ed4b0800          	ld	bc, (_ball + 8)
   877  00c3  2a0a00            	ld	hl, (_ball + 10)
   878  00c6  e5                	push	hl
   879  00c7  c5                	push	bc
   880  00c8  21fbff            	ld	hl,-5
   881  00cb  cd0000            	call	____sdcc_4_push_hlix
   882  00ce  cd0000            	call	___fssub
   883  00d1  f1                	pop	af
   884  00d2  f1                	pop	af
   885  00d3  f1                	pop	af
   886                          ;physical_coords.c:89: ballShadowPosition.x = ball_px;
   887  00d4  e3                	ex	(sp),hl
   888  00d5  d5                	push	de
   889  00d6  21f7ff            	ld	hl,-9
   890  00d9  cd0000            	call	____sdcc_4_push_hlix
   891  00dc  cd0000            	call	___fs2uint_callee
   892  00df  dd75fd            	ld	(ix-3),l
   893  00e2  dd74fe            	ld	(ix-2),h
   894  00e5  d1                	pop	de
   895  00e6  c1                	pop	bc
   896  00e7  210000            	ld	hl,_ballPosition
   897  00ea  dd7efd            	ld	a,(ix-3)
   898  00ed  77                	ld	(hl), a
   899  00ee  23                	inc	hl
   900  00ef  dd7efe            	ld	a,(ix-2)
   901  00f2  77                	ld	(hl), a
   902                          ;physical_coords.c:90: ballShadowPosition.y = ball.y;
   903  00f3  d5                	push	de
   904  00f4  c5                	push	bc
   905  00f5  cd0000            	call	___fs2uint_callee
   906  00f8  220200            	ld	(_ballPosition + 2),hl
   907                          ;physical_coords.c:91:
   908  00fb  210400            	ld	hl,_ballShadowPosition
   909  00fe  dd7efd            	ld	a,(ix-3)
   910  0101  77                	ld	(hl), a
   911  0102  23                	inc	hl
   912  0103  dd7efe            	ld	a,(ix-2)
   913  0106  77                	ld	(hl), a
   914                          ;physical_coords.c:92: // Updates player positions in the screen
   915  0107  ed4b0400          	ld	bc,(_ball + 4)
   916  010b  2a0600            	ld	hl,(_ball + 4 + 2)
   917  010e  e5                	push	hl
   918  010f  c5                	push	bc
   919  0110  cd0000            	call	___fs2uint_callee
   920  0113  220600            	ld	(_ballShadowPosition + 2),hl
   921                          ;physical_coords.c:95:
   922  0116  110e00            	ld	de,+(_player_top + 14)
   923  0119  210400            	ld	hl,4
   924  011c  39                	add	hl, sp
   925  011d  eb                	ex	de, hl
   926  011e  cd0000            	call	____sdcc_4_ldi_nosave_bc
   927  0121  ed4b0a00          	ld	bc, (_player_top + 10)
   928  0125  2a0c00            	ld	hl, (_player_top + 12)
   929  0128  dd5efd            	ld	e,(ix-3)
   930  012b  dd56fe            	ld	d,(ix-2)
   931  012e  d5                	push	de
   932  012f  dd5efb            	ld	e,(ix-5)
   933  0132  dd56fc            	ld	d,(ix-4)
   934  0135  d5                	push	de
   935  0136  e5                	push	hl
   936  0137  c5                	push	bc
   937  0138  cd0000            	call	_x_projection
   938  013b  f1                	pop	af
   939  013c  f1                	pop	af
   940  013d  f1                	pop	af
   941  013e  f1                	pop	af
   942  013f  d5                	push	de
   943  0140  e5                	push	hl
   944  0141  cd0000            	call	___fs2uint_callee
   945  0144  220800            	ld	(_topPlayerPosition),hl
   946                          ;physical_coords.c:96: bottomPlayerPosition.x = x_projection(player_bottom.x, player_bottom.y);
   947  0147  ed4b0e00          	ld	bc,(_player_top + 14)
   948  014b  2a1000            	ld	hl,(_player_top + 14 + 2)
   949  014e  e5                	push	hl
   950  014f  c5                	push	bc
   951  0150  cd0000            	call	___fs2uint_callee
   952  0153  220a00            	ld	(_topPlayerPosition + 2),hl
   953                          ;physical_coords.c:98:
   954  0156  110e00            	ld	de,+(_player_bottom + 14)
   955  0159  210400            	ld	hl,4
   956  015c  39                	add	hl, sp
   957  015d  eb                	ex	de, hl
   958  015e  cd0000            	call	____sdcc_4_ldi_nosave_bc
   959  0161  ed4b0a00          	ld	bc, (_player_bottom + 10)
   960  0165  2a0c00            	ld	hl, (_player_bottom + 12)
   961  0168  dd5efd            	ld	e,(ix-3)
   962  016b  dd56fe            	ld	d,(ix-2)
   963  016e  d5                	push	de
   964  016f  dd5efb            	ld	e,(ix-5)
   965  0172  dd56fc            	ld	d,(ix-4)
   966  0175  d5                	push	de
   967  0176  e5                	push	hl
   968  0177  c5                	push	bc
   969  0178  cd0000            	call	_x_projection
   970  017b  f1                	pop	af
   971  017c  f1                	pop	af
   972  017d  f1                	pop	af
   973  017e  f1                	pop	af
   974  017f  d5                	push	de
   975  0180  e5                	push	hl
   976  0181  cd0000            	call	___fs2uint_callee
   977  0184  220c00            	ld	(_bottomPlayerPosition),hl
   978                          ;physical_coords.c:99: // TODO: simplify
   979  0187  ed4b0e00          	ld	bc,(_player_bottom + 14)
   980  018b  2a1000            	ld	hl,(_player_bottom + 14 + 2)
   981  018e  e5                	push	hl
   982  018f  c5                	push	bc
   983  0190  cd0000            	call	___fs2uint_callee
   984  0193  220e00            	ld	(_bottomPlayerPosition + 2),hl
   985  0196  eb                	ex	de,hl
   986                          ;physical_coords.c:103:
   987  0197  21a000            	ld	hl,0x00a0
   988  019a  221000            	ld	(_netPosition), hl
   989                          ;physical_coords.c:104: uint8_t passed_ticks = wait_for_ticks(1);
   990  019d  221200            	ld	(_netPosition + 2),hl
   991                          ;physical_coords.c:106: if (ball_slot != formerBallSlot)
   992  01a0  3e01              	ld	a,0x01
   993  01a2  f5                	push	af
   994  01a3  33                	inc	sp
   995  01a4  cd0000            	call	_wait_for_ticks
   996  01a7  33                	inc	sp
   997  01a8  dd75fa            	ld	(ix-6),l
   998                          ;physical_coords.c:113: }
   999                          ;physical_coords.c:114:
  1000  01ab  dd5eff            	ld	e,(ix-1)
  1001  01ae  1606              	ld	d,0x06
  1002  01b0  ed30              	mlt	de
  1003                          ;physical_coords.c:108: if (formerBallSlot != SLOT_COUNT)
  1004  01b2  3a0000            	ld	a,(_formerBallSlot)
  1005  01b5  dd96ff            	sub	a,(ix-1)
  1006  01b8  2834              	jr	Z,l_update_screen_00106
  1007                          ;physical_coords.c:110: formerBallSlot = ball_slot;
  1008  01ba  3a0000            	ld	a,(_formerBallSlot)
  1009  01bd  d60a              	sub	a,0x0a
  1010  01bf  2815              	jr	Z,l_update_screen_00102
  1011                          ;physical_coords.c:111: if (!ball.hidden)
  1012  01c1  2a0000            	ld	hl,(_formerBallSlot)
  1013  01c4  2600              	ld	h,0x00
  1014  01c6  4d                	ld	c, l
  1015  01c7  44                	ld	b, h
  1016  01c8  29                	add	hl, hl
  1017  01c9  09                	add	hl, bc
  1018  01ca  29                	add	hl, hl
  1019  01cb  010000            	ld	bc,_spriteSlots
  1020  01ce  09                	add	hl,bc
  1021  01cf  d5                	push	de
  1022  01d0  e5                	push	hl
  1023  01d1  cd0000            	call	_hide_sprite
  1024  01d4  f1                	pop	af
  1025  01d5  d1                	pop	de
  1026                          l_update_screen_00102:
  1027                          ;physical_coords.c:112: show_sprite(&spriteSlots[ball_slot]);
  1028  01d6  dd7eff            	ld	a,(ix-1)
  1029  01d9  320000            	ld	(_formerBallSlot),a
  1030                          ;physical_coords.c:113: }
  1031  01dc  211800            	ld	hl,+(_ball + 24)
  1032  01df  cb46              	bit	0,(hl)
  1033  01e1  200b              	jr	NZ,l_update_screen_00106
  1034                          ;physical_coords.c:114:
  1035  01e3  210000            	ld	hl,_spriteSlots
  1036  01e6  19                	add	hl, de
  1037  01e7  d5                	push	de
  1038  01e8  e5                	push	hl
  1039  01e9  cd0000            	call	_show_sprite
  1040  01ec  f1                	pop	af
  1041  01ed  d1                	pop	de
  1042                          l_update_screen_00106:
  1043                          ;physical_coords.c:117: formerBallHidden = ball.hidden;
  1044  01ee  211800            	ld	hl,+(_ball + 24)
  1045  01f1  4e                	ld	c, (hl)
  1046  01f2  3a0100            	ld	a,(_formerBallHidden)
  1047  01f5  91                	sub	a, c
  1048  01f6  2831              	jr	Z,l_update_screen_00111
  1049                          ;physical_coords.c:119: {
  1050  01f8  210100            	ld	hl,_formerBallHidden
  1051  01fb  71                	ld	(hl), c
  1052                          ;physical_coords.c:120: hide_sprite(&spriteSlots[ball_slot]);
  1053  01fc  211800            	ld	hl,+(_ball + 24)
  1054  01ff  cb46              	bit	0,(hl)
  1055  0201  2814              	jr	Z,l_update_screen_00108
  1056                          ;physical_coords.c:122: }
  1057  0203  210000            	ld	hl,_spriteSlots
  1058  0206  19                	add	hl, de
  1059  0207  d5                	push	de
  1060  0208  e5                	push	hl
  1061  0209  cd0000            	call	_hide_sprite
  1062  020c  210000            	ld	hl,_spriteSlots
  1063  020f  e3                	ex	(sp),hl
  1064  0210  cd0000            	call	_hide_sprite
  1065  0213  f1                	pop	af
  1066  0214  d1                	pop	de
  1067  0215  1812              	jr	l_update_screen_00111
  1068                          l_update_screen_00108:
  1069                          ;physical_coords.c:127: }
  1070  0217  210000            	ld	hl,_spriteSlots
  1071  021a  19                	add	hl, de
  1072  021b  d5                	push	de
  1073  021c  e5                	push	hl
  1074  021d  cd0000            	call	_show_sprite
  1075  0220  210000            	ld	hl,_spriteSlots
  1076  0223  e3                	ex	(sp),hl
  1077  0224  cd0000            	call	_show_sprite
  1078  0227  f1                	pop	af
  1079  0228  d1                	pop	de
  1080                          l_update_screen_00111:
  1081                          ;physical_coords.c:132:
  1082  0229  01feff            	ld	bc,-2
  1083  022c  210200            	ld	hl,+(_ballPosition + 2)
  1084  022f  cd0000            	call	____sdcc_2_copy_src_mhl_dst_bcix
  1085  0232  ed4b0000          	ld	bc,(_ballPosition)
  1086  0236  210000            	ld	hl,_spriteSlots
  1087  0239  19                	add	hl, de
  1088  023a  af                	xor	a, a
  1089  023b  f5                	push	af
  1090  023c  33                	inc	sp
  1091  023d  dd5efe            	ld	e,(ix-2)
  1092  0240  dd56ff            	ld	d,(ix-1)
  1093  0243  d5                	push	de
  1094  0244  c5                	push	bc
  1095  0245  e5                	push	hl
  1096  0246  cd0000            	call	_move_sprite
  1097  0249  f1                	pop	af
  1098  024a  f1                	pop	af
  1099  024b  f1                	pop	af
  1100  024c  33                	inc	sp
  1101                          ;physical_coords.c:133: move_sprite(&spriteSlots[SLOT_NET], netPosition.x, netPosition.y, 0);
  1102  024d  ed4b0600          	ld	bc,(_ballShadowPosition + 2)
  1103  0251  2a0400            	ld	hl,(_ballShadowPosition)
  1104  0254  af                	xor	a, a
  1105  0255  f5                	push	af
  1106  0256  33                	inc	sp
  1107  0257  c5                	push	bc
  1108  0258  e5                	push	hl
  1109  0259  210000            	ld	hl,_spriteSlots
  1110  025c  e5                	push	hl
  1111  025d  cd0000            	call	_move_sprite
  1112  0260  f1                	pop	af
  1113  0261  f1                	pop	af
  1114  0262  f1                	pop	af
  1115  0263  33                	inc	sp
  1116                          ;physical_coords.c:135: move_sprite(&spriteSlots[SLOT_UMPIRE_HEAD], UMPIRE_HEAD_X, UMPIRE_HEAD_Y, umpire_frame);
  1117  0264  ed4b1200          	ld	bc,(_netPosition + 2)
  1118  0268  2a1000            	ld	hl,(_netPosition)
  1119  026b  af                	xor	a, a
  1120  026c  f5                	push	af
  1121  026d  33                	inc	sp
  1122  026e  c5                	push	bc
  1123  026f  e5                	push	hl
  1124  0270  211800            	ld	hl, +(_spriteSlots + 24)
  1125  0273  e5                	push	hl
  1126  0274  cd0000            	call	_move_sprite
  1127  0277  f1                	pop	af
  1128  0278  f1                	pop	af
  1129  0279  f1                	pop	af
  1130  027a  33                	inc	sp
  1131                          ;physical_coords.c:136:
  1132  027b  af                	xor	a, a
  1133  027c  f5                	push	af
  1134  027d  33                	inc	sp
  1135  027e  21a000            	ld	hl,0x00a0
  1136  0281  e5                	push	hl
  1137  0282  2e23              	ld	l,0x23
  1138  0284  e5                	push	hl
  1139  0285  211e00            	ld	hl, +(_spriteSlots + 30)
  1140  0288  e5                	push	hl
  1141  0289  cd0000            	call	_move_sprite
  1142  028c  f1                	pop	af
  1143  028d  f1                	pop	af
  1144  028e  f1                	pop	af
  1145  028f  33                	inc	sp
  1146                          ;physical_coords.c:137: move_sprite(&spriteSlots[SLOT_PLAYER_TOP], topPlayerPosition.x, topPlayerPosition.y, player_top.frame_index);
  1147  0290  3a0000            	ld	a,(_umpire_frame)
  1148  0293  f5                	push	af
  1149  0294  33                	inc	sp
  1150  0295  216b00            	ld	hl,0x006b
  1151  0298  e5                	push	hl
  1152  0299  2e28              	ld	l,0x28
  1153  029b  e5                	push	hl
  1154  029c  212400            	ld	hl, +(_spriteSlots + 36)
  1155  029f  e5                	push	hl
  1156  02a0  cd0000            	call	_move_sprite
  1157  02a3  f1                	pop	af
  1158  02a4  f1                	pop	af
  1159  02a5  f1                	pop	af
  1160  02a6  33                	inc	sp
  1161                          ;physical_coords.c:139:
  1162  02a7  210600            	ld	hl,_player_top + 6
  1163  02aa  46                	ld	b, (hl)
  1164  02ab  ed5b0a00          	ld	de,(_topPlayerPosition + 2)
  1165  02af  2a0800            	ld	hl,(_topPlayerPosition)
  1166  02b2  c5                	push	bc
  1167  02b3  33                	inc	sp
  1168  02b4  d5                	push	de
  1169  02b5  e5                	push	hl
  1170  02b6  210c00            	ld	hl, +(_spriteSlots + 12)
  1171  02b9  e5                	push	hl
  1172  02ba  cd0000            	call	_move_sprite
  1173  02bd  f1                	pop	af
  1174  02be  f1                	pop	af
  1175  02bf  f1                	pop	af
  1176  02c0  33                	inc	sp
  1177                          ;physical_coords.c:140: return passed_ticks;
  1178  02c1  3a0600            	ld	a,(_player_bottom + 6)
  1179  02c4  dd77fb            	ld	(ix-5),a
  1180  02c7  11fcff            	ld	de,-4
  1181  02ca  210e00            	ld	hl,+(_bottomPlayerPosition + 2)
  1182  02cd  cd0000            	call	____sdcc_2_copy_src_mhl_dst_deix
  1183  02d0  11feff            	ld	de,-2
  1184  02d3  210c00            	ld	hl,_bottomPlayerPosition
  1185  02d6  cd0000            	call	____sdcc_2_copy_src_mhl_dst_deix
  1186  02d9  dd7efb            	ld	a,(ix-5)
  1187  02dc  f5                	push	af
  1188  02dd  33                	inc	sp
  1189  02de  dd6efc            	ld	l,(ix-4)
  1190  02e1  dd66fd            	ld	h,(ix-3)
  1191  02e4  e5                	push	hl
  1192  02e5  dd6efe            	ld	l,(ix-2)
  1193  02e8  dd66ff            	ld	h,(ix-1)
  1194  02eb  e5                	push	hl
  1195  02ec  213000            	ld	hl, +(_spriteSlots + 48)
  1196  02ef  e5                	push	hl
  1197  02f0  cd0000            	call	_move_sprite
  1198  02f3  f1                	pop	af
  1199  02f4  f1                	pop	af
  1200  02f5  f1                	pop	af
  1201  02f6  33                	inc	sp
  1202                          ;physical_coords.c:142: ERROR: no line number 142 in file physical_coords.c
  1203  02f7  dd6efa            	ld	l,(ix-6)
  1204                          ;physical_coords.c:143: ERROR: no line number 143 in file physical_coords.c
  1205  02fa  ddf9              	ld	sp, ix
  1206  02fc  dde1              	pop	ix
  1207  02fe  c9                	ret
  1208                          	SECTION data_compiler
  1209                          _formerBallSlot:
  1210  0000  0a                	DEFB +0x0a
  1211                          _formerBallHidden:
  1212  0001  00                	DEFB +0x00
  1213                          	SECTION IGNORE
  1214                          
