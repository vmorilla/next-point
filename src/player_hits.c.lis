/tmp/tmpybNn4W46.asm:
     1                          MODULE player_hits_c
     2                          LINE 0, "player_hits.c"
player_hits.c:
                                
     1                          ;--------------------------------------------------------
     2                          ; File Created by SDCC : free open source ISO C Compiler
     3                          ; Version 4.3.0 #14210 (Mac OS X ppc)
     4                          ;--------------------------------------------------------
     5                          	.zxn
     6                          ; Processed by Z88DK
     7                          ;--------------------------------------------------------
     8                          
     9                          	EXTERN __divschar
    10                          	EXTERN __divschar_callee
    11                          	EXTERN __divsint
    12                          	EXTERN __divsint_callee
    13                          	EXTERN __divslong
    14                          	EXTERN __divslong_callee
    15                          	EXTERN __divslonglong
    16                          	EXTERN __divslonglong_callee
    17                          	EXTERN __divsuchar
    18                          	EXTERN __divsuchar_callee
    19                          	EXTERN __divuchar
    20                          	EXTERN __divuchar_callee
    21                          	EXTERN __divuint
    22                          	EXTERN __divuint_callee
    23                          	EXTERN __divulong
    24                          	EXTERN __divulong_callee
    25                          	EXTERN __divulonglong
    26                          	EXTERN __divulonglong_callee
    27                          	EXTERN __divuschar
    28                          	EXTERN __divuschar_callee
    29                          	EXTERN __modschar
    30                          	EXTERN __modschar_callee
    31                          	EXTERN __modsint
    32                          	EXTERN __modsint_callee
    33                          	EXTERN __modslong
    34                          	EXTERN __modslong_callee
    35                          	EXTERN __modslonglong
    36                          	EXTERN __modslonglong_callee
    37                          	EXTERN __modsuchar
    38                          	EXTERN __modsuchar_callee
    39                          	EXTERN __moduchar
    40                          	EXTERN __moduchar_callee
    41                          	EXTERN __moduint
    42                          	EXTERN __moduint_callee
    43                          	EXTERN __modulong
    44                          	EXTERN __modulong_callee
    45                          	EXTERN __modulonglong
    46                          	EXTERN __modulonglong_callee
    47                          	EXTERN __moduschar
    48                          	EXTERN __moduschar_callee
    49                          	EXTERN __mulint
    50                          	EXTERN __mulint_callee
    51                          	EXTERN __mullong
    52                          	EXTERN __mullong_callee
    53                          	EXTERN __mullonglong
    54                          	EXTERN __mullonglong_callee
    55                          	EXTERN __mulschar
    56                          	EXTERN __mulschar_callee
    57                          	EXTERN __mulsuchar
    58                          	EXTERN __mulsuchar_callee
    59                          	EXTERN __muluchar
    60                          	EXTERN __muluchar_callee
    61                          	EXTERN __muluschar
    62                          	EXTERN __muluschar_callee
    63                          	EXTERN __rlslonglong
    64                          	EXTERN __rlslonglong_callee
    65                          	EXTERN __rlulonglong
    66                          	EXTERN __rlulonglong_callee
    67                          	EXTERN __rrslonglong
    68                          	EXTERN __rrslonglong_callee
    69                          	EXTERN __rrulonglong
    70                          	EXTERN __rrulonglong_callee
    71                          	EXTERN ___mulsint2slong
    72                          	EXTERN ___mulsint2slong_callee
    73                          	EXTERN ___muluint2ulong
    74                          	EXTERN ___muluint2ulong_callee
    75                          	EXTERN ___sdcc_call_hl
    76                          	EXTERN ___sdcc_call_iy
    77                          	EXTERN ___sdcc_enter_ix
    78                          	EXTERN banked_call
    79                          	EXTERN _banked_ret
    80                          	EXTERN ___fs2schar
    81                          	EXTERN ___fs2schar_callee
    82                          	EXTERN ___fs2sint
    83                          	EXTERN ___fs2sint_callee
    84                          	EXTERN ___fs2slong
    85                          	EXTERN ___fs2slong_callee
    86                          	EXTERN ___fs2slonglong
    87                          	EXTERN ___fs2slonglong_callee
    88                          	EXTERN ___fs2uchar
    89                          	EXTERN ___fs2uchar_callee
    90                          	EXTERN ___fs2uint
    91                          	EXTERN ___fs2uint_callee
    92                          	EXTERN ___fs2ulong
    93                          	EXTERN ___fs2ulong_callee
    94                          	EXTERN ___fs2ulonglong
    95                          	EXTERN ___fs2ulonglong_callee
    96                          	EXTERN ___fsadd
    97                          	EXTERN ___fsadd_callee
    98                          	EXTERN ___fsdiv
    99                          	EXTERN ___fsdiv_callee
   100                          	EXTERN ___fseq
   101                          	EXTERN ___fseq_callee
   102                          	EXTERN ___fsgt
   103                          	EXTERN ___fsgt_callee
   104                          	EXTERN ___fslt
   105                          	EXTERN ___fslt_callee
   106                          	EXTERN ___fsmul
   107                          	EXTERN ___fsmul_callee
   108                          	EXTERN ___fsneq
   109                          	EXTERN ___fsneq_callee
   110                          	EXTERN ___fssub
   111                          	EXTERN ___fssub_callee
   112                          	EXTERN ___schar2fs
   113                          	EXTERN ___schar2fs_callee
   114                          	EXTERN ___sint2fs
   115                          	EXTERN ___sint2fs_callee
   116                          	EXTERN ___slong2fs
   117                          	EXTERN ___slong2fs_callee
   118                          	EXTERN ___slonglong2fs
   119                          	EXTERN ___slonglong2fs_callee
   120                          	EXTERN ___uchar2fs
   121                          	EXTERN ___uchar2fs_callee
   122                          	EXTERN ___uint2fs
   123                          	EXTERN ___uint2fs_callee
   124                          	EXTERN ___ulong2fs
   125                          	EXTERN ___ulong2fs_callee
   126                          	EXTERN ___ulonglong2fs
   127                          	EXTERN ___ulonglong2fs_callee
   128                          	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
   129                          	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
   130                          	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
   131                          	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
   132                          	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
   133                          	EXTERN ____sdcc_4_ldi_nosave_bc
   134                          	EXTERN ____sdcc_4_ldi_save_bc
   135                          	EXTERN ____sdcc_4_push_hlix
   136                          	EXTERN ____sdcc_4_push_mhl
   137                          	EXTERN ____sdcc_lib_setmem_hl
   138                          	EXTERN ____sdcc_ll_add_de_bc_hl
   139                          	EXTERN ____sdcc_ll_add_de_bc_hlix
   140                          	EXTERN ____sdcc_ll_add_de_hlix_bc
   141                          	EXTERN ____sdcc_ll_add_de_hlix_bcix
   142                          	EXTERN ____sdcc_ll_add_deix_bc_hl
   143                          	EXTERN ____sdcc_ll_add_deix_hlix
   144                          	EXTERN ____sdcc_ll_add_hlix_bc_deix
   145                          	EXTERN ____sdcc_ll_add_hlix_deix_bc
   146                          	EXTERN ____sdcc_ll_add_hlix_deix_bcix
   147                          	EXTERN ____sdcc_ll_asr_hlix_a
   148                          	EXTERN ____sdcc_ll_asr_mbc_a
   149                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
   150                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
   151                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
   152                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
   153                          	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
   154                          	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
   155                          	EXTERN ____sdcc_ll_copy_src_hl_dst_de
   156                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
   157                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
   158                          	EXTERN ____sdcc_ll_lsl_hlix_a
   159                          	EXTERN ____sdcc_ll_lsl_mbc_a
   160                          	EXTERN ____sdcc_ll_lsr_hlix_a
   161                          	EXTERN ____sdcc_ll_lsr_mbc_a
   162                          	EXTERN ____sdcc_ll_push_hlix
   163                          	EXTERN ____sdcc_ll_push_mhl
   164                          	EXTERN ____sdcc_ll_sub_de_bc_hl
   165                          	EXTERN ____sdcc_ll_sub_de_bc_hlix
   166                          	EXTERN ____sdcc_ll_sub_de_hlix_bc
   167                          	EXTERN ____sdcc_ll_sub_de_hlix_bcix
   168                          	EXTERN ____sdcc_ll_sub_deix_bc_hl
   169                          	EXTERN ____sdcc_ll_sub_deix_hlix
   170                          	EXTERN ____sdcc_ll_sub_hlix_bc_deix
   171                          	EXTERN ____sdcc_ll_sub_hlix_deix_bc
   172                          	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
   173                          	EXTERN ____sdcc_load_debc_deix
   174                          	EXTERN ____sdcc_load_dehl_deix
   175                          	EXTERN ____sdcc_load_debc_mhl
   176                          	EXTERN ____sdcc_load_hlde_mhl
   177                          	EXTERN ____sdcc_store_dehl_bcix
   178                          	EXTERN ____sdcc_store_debc_hlix
   179                          	EXTERN ____sdcc_store_debc_mhl
   180                          	EXTERN ____sdcc_cpu_pop_ei
   181                          	EXTERN ____sdcc_cpu_pop_ei_jp
   182                          	EXTERN ____sdcc_cpu_push_di
   183                          	EXTERN ____sdcc_outi
   184                          	EXTERN ____sdcc_outi_128
   185                          	EXTERN ____sdcc_outi_256
   186                          	EXTERN ____sdcc_ldi
   187                          	EXTERN ____sdcc_ldi_128
   188                          	EXTERN ____sdcc_ldi_256
   189                          	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
   190                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
   191                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
   192                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
   193                          	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
   194                          	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
   195                          	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
   196                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
   197                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
   198                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
   199                          	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
   200                          	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
   201                          	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
   202                          	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
   203                          	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
   204                          	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
   205                          	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
   206                          
   207                          ;--------------------------------------------------------
   208                          ; Public variables in this module
   209                          ;--------------------------------------------------------
   210                          	GLOBAL _std_hit_margin_net
   211                          	GLOBAL _std_hit_target_x
   212                          	GLOBAL _fast_std_hit
   213                          	GLOBAL _service_margin_net
   214                          	GLOBAL _service_margin_y
   215                          	GLOBAL _service_target_x
   216                          	GLOBAL _fast_service
   217                          	GLOBAL _service_hit
   218                          	GLOBAL _standard_hit
   219                          ;--------------------------------------------------------
   220                          ; Externals used
   221                          ;--------------------------------------------------------
   222                          	GLOBAL _float_to_string
   223                          	GLOBAL _normal_dist_random
   224                          	GLOBAL _limited_normal_dist_random
   225                          	GLOBAL _valid_area
   226                          	GLOBAL _service_area
   227                          	GLOBAL _get_serving_player
   228                          	GLOBAL _is_ad_service
   229                          	GLOBAL _start_match
   230                          	GLOBAL _event_player_touch
   231                          	GLOBAL _event_net_touched
   232                          	GLOBAL _event_player_hit
   233                          	GLOBAL _event_ball_bounced
   234                          	GLOBAL _update_entities
   235                          	GLOBAL _xy_in_boundary
   236                          	GLOBAL _point_in_boundary
   237                          	GLOBAL _x_projection
   238                          	GLOBAL _ball_future_x_and_height
   239                          	GLOBAL _set_ball_velocity_net_height
   240                          	GLOBAL _set_lob_ball_velocity
   241                          	GLOBAL _update_ball
   242                          	GLOBAL _smash_hit
   243                          	GLOBAL _lob_hit
   244                          	GLOBAL _closest_type_of_hit
   245                          	GLOBAL _ball_at_reach
   246                          	GLOBAL _set_player_status
   247                          	GLOBAL _get_player
   248                          	GLOBAL _update_players
   249                          	GLOBAL _init_controls
   250                          	GLOBAL _diplay_profile
   251                          	GLOBAL _in_mouse_kempston_wheel_delta
   252                          	GLOBAL _in_mouse_kempston_wheel
   253                          	GLOBAL _in_mouse_kempston_callee
   254                          	GLOBAL _in_mouse_kempston
   255                          	GLOBAL _in_mouse_kempston_setpos_callee
   256                          	GLOBAL _in_mouse_kempston_setpos
   257                          	GLOBAL _in_mouse_kempston_reset
   258                          	GLOBAL _in_mouse_kempston_init
   259                          	GLOBAL _in_mouse_amx_wheel_delta
   260                          	GLOBAL _in_mouse_amx_wheel
   261                          	GLOBAL _in_mouse_amx_callee
   262                          	GLOBAL _in_mouse_amx
   263                          	GLOBAL _in_mouse_amx_setpos_callee
   264                          	GLOBAL _in_mouse_amx_setpos
   265                          	GLOBAL _in_mouse_amx_reset
   266                          	GLOBAL _in_mouse_amx_init_callee
   267                          	GLOBAL _in_mouse_amx_init
   268                          	GLOBAL _in_stick_sinclair2
   269                          	GLOBAL _in_stick_sinclair1
   270                          	GLOBAL _in_stick_kempston
   271                          	GLOBAL _in_stick_fuller
   272                          	GLOBAL _in_stick_cursor
   273                          	GLOBAL _in_stick_keyboard_fastcall
   274                          	GLOBAL _in_stick_keyboard
   275                          	GLOBAL _in_wait_nokey
   276                          	GLOBAL _in_wait_key
   277                          	GLOBAL _in_test_key
   278                          	GLOBAL _in_pause_fastcall
   279                          	GLOBAL _in_pause
   280                          	GLOBAL _in_key_scancode_fastcall
   281                          	GLOBAL _in_key_scancode
   282                          	GLOBAL _in_key_pressed_fastcall
   283                          	GLOBAL _in_key_pressed
   284                          	GLOBAL _in_inkey
   285                          	GLOBAL _poly_callee
   286                          	GLOBAL _poly
   287                          	GLOBAL _exp10_fastcall
   288                          	GLOBAL _exp10
   289                          	GLOBAL _mul10u_fastcall
   290                          	GLOBAL _mul10u
   291                          	GLOBAL _mul2_fastcall
   292                          	GLOBAL _mul2
   293                          	GLOBAL _div2_fastcall
   294                          	GLOBAL _div2
   295                          	GLOBAL _invsqrt_fastcall
   296                          	GLOBAL _invsqrt
   297                          	GLOBAL _inv_fastcall
   298                          	GLOBAL _inv
   299                          	GLOBAL _sqr_fastcall
   300                          	GLOBAL _sqr
   301                          	GLOBAL _neg_fastcall
   302                          	GLOBAL _neg
   303                          	GLOBAL _isunordered_callee
   304                          	GLOBAL _isunordered
   305                          	GLOBAL _islessgreater_callee
   306                          	GLOBAL _islessgreater
   307                          	GLOBAL _islessequal_callee
   308                          	GLOBAL _islessequal
   309                          	GLOBAL _isless_callee
   310                          	GLOBAL _isless
   311                          	GLOBAL _isgreaterequal_callee
   312                          	GLOBAL _isgreaterequal
   313                          	GLOBAL _isgreater_callee
   314                          	GLOBAL _isgreater
   315                          	GLOBAL _fma_callee
   316                          	GLOBAL _fma
   317                          	GLOBAL _fmin_callee
   318                          	GLOBAL _fmin
   319                          	GLOBAL _fmax_callee
   320                          	GLOBAL _fmax
   321                          	GLOBAL _fdim_callee
   322                          	GLOBAL _fdim
   323                          	GLOBAL _nexttoward_callee
   324                          	GLOBAL _nexttoward
   325                          	GLOBAL _nextafter_callee
   326                          	GLOBAL _nextafter
   327                          	GLOBAL _nan_fastcall
   328                          	GLOBAL _nan
   329                          	GLOBAL _copysign_callee
   330                          	GLOBAL _copysign
   331                          	GLOBAL _remquo_callee
   332                          	GLOBAL _remquo
   333                          	GLOBAL _remainder_callee
   334                          	GLOBAL _remainder
   335                          	GLOBAL _fmod_callee
   336                          	GLOBAL _fmod
   337                          	GLOBAL _modf_callee
   338                          	GLOBAL _modf
   339                          	GLOBAL _trunc_fastcall
   340                          	GLOBAL _trunc
   341                          	GLOBAL _lround_fastcall
   342                          	GLOBAL _lround
   343                          	GLOBAL _round_fastcall
   344                          	GLOBAL _round
   345                          	GLOBAL _lrint_fastcall
   346                          	GLOBAL _lrint
   347                          	GLOBAL _rint_fastcall
   348                          	GLOBAL _rint
   349                          	GLOBAL _nearbyint_fastcall
   350                          	GLOBAL _nearbyint
   351                          	GLOBAL _floor_fastcall
   352                          	GLOBAL _floor
   353                          	GLOBAL _ceil_fastcall
   354                          	GLOBAL _ceil
   355                          	GLOBAL _tgamma_fastcall
   356                          	GLOBAL _tgamma
   357                          	GLOBAL _lgamma_fastcall
   358                          	GLOBAL _lgamma
   359                          	GLOBAL _erfc_fastcall
   360                          	GLOBAL _erfc
   361                          	GLOBAL _erf_fastcall
   362                          	GLOBAL _erf
   363                          	GLOBAL _cbrt_fastcall
   364                          	GLOBAL _cbrt
   365                          	GLOBAL _sqrt_fastcall
   366                          	GLOBAL _sqrt
   367                          	GLOBAL _pow_callee
   368                          	GLOBAL _pow
   369                          	GLOBAL _hypot_callee
   370                          	GLOBAL _hypot
   371                          	GLOBAL _fabs_fastcall
   372                          	GLOBAL _fabs
   373                          	GLOBAL _logb_fastcall
   374                          	GLOBAL _logb
   375                          	GLOBAL _log2_fastcall
   376                          	GLOBAL _log2
   377                          	GLOBAL _log1p_fastcall
   378                          	GLOBAL _log1p
   379                          	GLOBAL _log10_fastcall
   380                          	GLOBAL _log10
   381                          	GLOBAL _log_fastcall
   382                          	GLOBAL _log
   383                          	GLOBAL _ilogb_fastcall
   384                          	GLOBAL _ilogb
   385                          	GLOBAL _scalbln_callee
   386                          	GLOBAL _scalbln
   387                          	GLOBAL _scalbn_callee
   388                          	GLOBAL _scalbn
   389                          	GLOBAL _ldexp_callee
   390                          	GLOBAL _ldexp
   391                          	GLOBAL _frexp_callee
   392                          	GLOBAL _frexp
   393                          	GLOBAL _expm1_fastcall
   394                          	GLOBAL _expm1
   395                          	GLOBAL _exp2_fastcall
   396                          	GLOBAL _exp2
   397                          	GLOBAL _exp_fastcall
   398                          	GLOBAL _exp
   399                          	GLOBAL _tanh_fastcall
   400                          	GLOBAL _tanh
   401                          	GLOBAL _sinh_fastcall
   402                          	GLOBAL _sinh
   403                          	GLOBAL _cosh_fastcall
   404                          	GLOBAL _cosh
   405                          	GLOBAL _atanh_fastcall
   406                          	GLOBAL _atanh
   407                          	GLOBAL _asinh_fastcall
   408                          	GLOBAL _asinh
   409                          	GLOBAL _acosh_fastcall
   410                          	GLOBAL _acosh
   411                          	GLOBAL _tan_fastcall
   412                          	GLOBAL _tan
   413                          	GLOBAL _sin_fastcall
   414                          	GLOBAL _sin
   415                          	GLOBAL _cos_fastcall
   416                          	GLOBAL _cos
   417                          	GLOBAL _atan2_callee
   418                          	GLOBAL _atan2
   419                          	GLOBAL _atan_fastcall
   420                          	GLOBAL _atan
   421                          	GLOBAL _asin_fastcall
   422                          	GLOBAL _asin
   423                          	GLOBAL _acos_fastcall
   424                          	GLOBAL _acos
   425                          	GLOBAL _game_state
   426                          	GLOBAL _match_type
   427                          	GLOBAL _score
   428                          	GLOBAL _ball
   429                          	GLOBAL _player_bottom
   430                          	GLOBAL _player_top
   431                          	GLOBAL _game_settings
   432                          	GLOBAL _ppponent_profile
   433                          	GLOBAL _court_boundaries
   434                          ;--------------------------------------------------------
   435                          ; special function registers
   436                          ;--------------------------------------------------------
   437                          ;--------------------------------------------------------
   438                          ; ram data
   439                          ;--------------------------------------------------------
   440                          	SECTION bss_compiler
   441                          ;--------------------------------------------------------
   442                          ; ram data
   443                          ;--------------------------------------------------------
   444                          
   445                          IF 0
   446                          
   447                          ; .area _INITIALIZED removed by z88dk
   448                          
   449                          
   450                          ENDIF
   451                          
   452                          ;--------------------------------------------------------
   453                          ; absolute external ram data
   454                          ;--------------------------------------------------------
   455                          	SECTION IGNORE
   456                          ;--------------------------------------------------------
   457                          ; global & static initialisations
   458                          ;--------------------------------------------------------
   459                          	SECTION code_crt_init
   460                          ;--------------------------------------------------------
   461                          ; Home
   462                          ;--------------------------------------------------------
   463                          	SECTION IGNORE
   464                          ;--------------------------------------------------------
   465                          ; code
   466                          ;--------------------------------------------------------
   467                          	SECTION BANK_8
   468                          ;player_hits.c:32: return player->control_at_hit & CONTROL_B;
   469                          ;	---------------------------------
   470                          ; Function fast_service
   471                          ; ---------------------------------
   472                          _fast_service:
   473  0000  cd0000            	call	___sdcc_enter_ix
   474                          ;player_hits.c:34:
   475  0003  dd4e04            	ld	c,(ix+4)
   476  0006  dd4605            	ld	b,(ix+5)
   477  0009  03                	inc	bc
   478  000a  03                	inc	bc
   479  000b  0a                	ld	a, (bc)
   480  000c  07                	rlca
   481  000d  07                	rlca
   482  000e  e601              	and	a,0x01
   483  0010  6f                	ld	l, a
   484                          ;player_hits.c:35: /**
   485  0011  dde1              	pop	ix
   486  0013  c9                	ret
   487                          	SECTION BANK_8
   488                          ;player_hits.c:40: uint8_t margin = fast ? 5 : 10;
   489                          ;	---------------------------------
   490                          ; Function service_target_x
   491                          ; ---------------------------------
   492                          _service_target_x:
   493  0014  cd0000            	call	___sdcc_enter_ix
   494                          ;player_hits.c:42: {
   495  0017  ddcb0646          	bit	0,(ix+6)
   496  001b  2805              	jr	Z,l_service_target_x_00109
   497  001d  010500            	ld	bc,0x0005
   498  0020  1803              	jr	l_service_target_x_00110
   499                          l_service_target_x_00109:
   500  0022  010a00            	ld	bc,0x000a
   501                          l_service_target_x_00110:
   502                          ;player_hits.c:43: return margin;
   503  0025  dd5e04            	ld	e,(ix+4)
   504  0028  dd5605            	ld	d,(ix+5)
   505  002b  13                	inc	de
   506  002c  13                	inc	de
   507  002d  1a                	ld	a, (de)
   508  002e  cb57              	bit	2, a
   509  0030  2803              	jr	Z,l_service_target_x_00105
   510                          ;player_hits.c:45: else if (player->control_at_hit & CONTROL_RIGHT)
   511  0032  69                	ld	l, c
   512  0033  180c              	jr	l_service_target_x_00107
   513                          l_service_target_x_00105:
   514                          ;player_hits.c:47: return 100 - margin;
   515  0035  cb5f              	bit	3, a
   516  0037  2806              	jr	Z,l_service_target_x_00102
   517                          ;player_hits.c:49: else
   518  0039  3e64              	ld	a,0x64
   519  003b  91                	sub	a, c
   520  003c  6f                	ld	l, a
   521  003d  1802              	jr	l_service_target_x_00107
   522                          l_service_target_x_00102:
   523                          ;player_hits.c:53: }
   524  003f  2e32              	ld	l,0x32
   525                          l_service_target_x_00107:
   526                          ;player_hits.c:55: uint8_t service_margin_y(Player *player, bool fast)
   527  0041  dde1              	pop	ix
   528  0043  c9                	ret
   529                          ;player_hits.c:57: (void)player;
   530                          ;	---------------------------------
   531                          ; Function service_margin_y
   532                          ; ---------------------------------
   533                          _service_margin_y:
   534  0044  cd0000            	call	___sdcc_enter_ix
   535                          ;player_hits.c:60:
   536  0047  ddcb0646          	bit	0,(ix+6)
   537  004b  2805              	jr	Z,l_service_margin_y_00103
   538  004d  210200            	ld	hl,0x0002
   539  0050  1803              	jr	l_service_margin_y_00104
   540                          l_service_margin_y_00103:
   541  0052  210700            	ld	hl,0x0007
   542                          l_service_margin_y_00104:
   543                          ;player_hits.c:61: uint8_t service_margin_net(Player *player, bool fast)
   544  0055  dde1              	pop	ix
   545  0057  c9                	ret
   546                          ;player_hits.c:63: (void)player;
   547                          ;	---------------------------------
   548                          ; Function service_margin_net
   549                          ; ---------------------------------
   550                          _service_margin_net:
   551  0058  cd0000            	call	___sdcc_enter_ix
   552                          ;player_hits.c:66:
   553  005b  ddcb0646          	bit	0,(ix+6)
   554  005f  2805              	jr	Z,l_service_margin_net_00103
   555  0061  210200            	ld	hl,0x0002
   556  0064  1803              	jr	l_service_margin_net_00104
   557                          l_service_margin_net_00103:
   558  0066  210800            	ld	hl,0x0008
   559                          l_service_margin_net_00104:
   560                          ;player_hits.c:67: // -----------------------------------------------------------------------
   561  0069  dde1              	pop	ix
   562  006b  c9                	ret
   563                          ;player_hits.c:73: return player->control_at_hit & (player->id == PLAYER_TOP ? CONTROL_DOWN : CONTROL_UP);
   564                          ;	---------------------------------
   565                          ; Function fast_std_hit
   566                          ; ---------------------------------
   567                          _fast_std_hit:
   568  006c  cd0000            	call	___sdcc_enter_ix
   569                          ;player_hits.c:75:
   570  006f  dd6e04            	ld	l,(ix+4)
   571  0072  dd6605            	ld	h,(ix+5)
   572  0075  4d                	ld	c,l
   573  0076  5c                	ld	e,h
   574  0077  23                	inc	hl
   575  0078  23                	inc	hl
   576  0079  7e                	ld	a, (hl)
   577  007a  69                	ld	l, c
   578  007b  63                	ld	h, e
   579  007c  cb46              	bit	0,(hl)
   580  007e  2005              	jr	NZ,l_fast_std_hit_00103
   581  0080  010200            	ld	bc,0x0002
   582  0083  1803              	jr	l_fast_std_hit_00104
   583                          l_fast_std_hit_00103:
   584  0085  010100            	ld	bc,0x0001
   585                          l_fast_std_hit_00104:
   586  0088  1e00              	ld	e,0x00
   587  008a  a1                	and	a, c
   588  008b  4f                	ld	c, a
   589  008c  7b                	ld	a, e
   590  008d  a0                	and	a, b
   591  008e  b1                	or	a, c
   592  008f  c6ff              	add	a,0xff
   593  0091  3e00              	ld	a,0x00
   594  0093  17                	rla
   595  0094  6f                	ld	l, a
   596                          ;player_hits.c:76: /**
   597  0095  dde1              	pop	ix
   598  0097  c9                	ret
   599                          ;player_hits.c:81: uint8_t margin = fast ? 5 : 10;
   600                          ;	---------------------------------
   601                          ; Function std_hit_target_x
   602                          ; ---------------------------------
   603                          _std_hit_target_x:
   604  0098  cd0000            	call	___sdcc_enter_ix
   605                          ;player_hits.c:83: {
   606  009b  ddcb0646          	bit	0,(ix+6)
   607  009f  2805              	jr	Z,l_std_hit_target_x_00109
   608  00a1  010500            	ld	bc,0x0005
   609  00a4  1803              	jr	l_std_hit_target_x_00110
   610                          l_std_hit_target_x_00109:
   611  00a6  010a00            	ld	bc,0x000a
   612                          l_std_hit_target_x_00110:
   613                          ;player_hits.c:84: return margin;
   614  00a9  dd5e04            	ld	e,(ix+4)
   615  00ac  dd5605            	ld	d,(ix+5)
   616  00af  13                	inc	de
   617  00b0  13                	inc	de
   618  00b1  1a                	ld	a, (de)
   619  00b2  cb57              	bit	2, a
   620  00b4  2803              	jr	Z,l_std_hit_target_x_00105
   621                          ;player_hits.c:86: else if (player->control_at_hit & CONTROL_RIGHT)
   622  00b6  69                	ld	l, c
   623  00b7  180c              	jr	l_std_hit_target_x_00107
   624                          l_std_hit_target_x_00105:
   625                          ;player_hits.c:88: return 100 - margin;
   626  00b9  cb5f              	bit	3, a
   627  00bb  2806              	jr	Z,l_std_hit_target_x_00102
   628                          ;player_hits.c:90: else
   629  00bd  3e64              	ld	a,0x64
   630  00bf  91                	sub	a, c
   631  00c0  6f                	ld	l, a
   632  00c1  1802              	jr	l_std_hit_target_x_00107
   633                          l_std_hit_target_x_00102:
   634                          ;player_hits.c:94: }
   635  00c3  2e32              	ld	l,0x32
   636                          l_std_hit_target_x_00107:
   637                          ;player_hits.c:96: uint8_t std_hit_margin_net(Player *player, bool fast)
   638  00c5  dde1              	pop	ix
   639  00c7  c9                	ret
   640                          ;player_hits.c:98: (void)player;
   641                          ;	---------------------------------
   642                          ; Function std_hit_margin_net
   643                          ; ---------------------------------
   644                          _std_hit_margin_net:
   645  00c8  cd0000            	call	___sdcc_enter_ix
   646                          ;player_hits.c:101:
   647  00cb  ddcb0646          	bit	0,(ix+6)
   648  00cf  2805              	jr	Z,l_std_hit_margin_net_00103
   649  00d1  210200            	ld	hl,0x0002
   650  00d4  1803              	jr	l_std_hit_margin_net_00104
   651                          l_std_hit_margin_net_00103:
   652  00d6  210800            	ld	hl,0x0008
   653                          l_std_hit_margin_net_00104:
   654                          ;player_hits.c:102: // -----------------------------------------------------------------------
   655  00d9  dde1              	pop	ix
   656  00db  c9                	ret
   657                          ;player_hits.c:108: if (ball.v_h < 0)
   658                          ;	---------------------------------
   659                          ; Function service_hit
   660                          ; ---------------------------------
   661                          _service_hit:
   662  00dc  cd0000            	call	___sdcc_enter_ix
   663  00df  21f4ff            	ld	hl, -12
   664  00e2  39                	add	hl, sp
   665  00e3  f9                	ld	sp, hl
   666                          ;player_hits.c:110:
   667  00e4  ed4b0c00          	ld	bc,(_ball + 12)
   668  00e8  ed5b0e00          	ld	de,(_ball + 12 + 2)
   669  00ec  210000            	ld	hl,0x0000
   670  00ef  e5                	push	hl
   671  00f0  e5                	push	hl
   672  00f1  d5                	push	de
   673  00f2  c5                	push	bc
   674  00f3  cd0000            	call	___fslt_callee
   675  00f6  7d                	ld	a, l
   676  00f7  b7                	or	a, a
   677  00f8  2808              	jr	Z,l_service_hit_00102
   678                          ;player_hits.c:111: // Corners
   679  00fa  dd7e06            	ld	a,(ix+6)
   680  00fd  c60a              	add	a,0x0a
   681  00ff  dd7706            	ld	(ix+6),a
   682                          l_service_hit_00102:
   683                          ;player_hits.c:114: bool fast = fast_service(player);
   684  0102  cd0000            	call	_service_area
   685  0105  dd75fc            	ld	(ix-4),l
   686  0108  dd74fd            	ld	(ix-3),h
   687                          ;player_hits.c:116:
   688  010b  dd6e04            	ld	l,(ix+4)
   689  010e  dd6605            	ld	h,(ix+5)
   690  0111  e5                	push	hl
   691  0112  cd0000            	call	_fast_service
   692  0115  f1                	pop	af
   693                          ;player_hits.c:117: uint8_t serv_marg = service_margin_y(player, fast);
   694  0116  dd75f8            	ld	(ix-8),l
   695  0119  7d                	ld	a, l
   696  011a  f5                	push	af
   697  011b  33                	inc	sp
   698  011c  dd6e04            	ld	l,(ix+4)
   699  011f  dd6605            	ld	h,(ix+5)
   700  0122  e5                	push	hl
   701  0123  cd1400            	call	_service_target_x
   702  0126  f1                	pop	af
   703  0127  33                	inc	sp
   704  0128  7d                	ld	a, l
   705  0129  f5                	push	af
   706  012a  33                	inc	sp
   707  012b  cd0000            	call	___schar2fs_callee
   708  012e  01c842            	ld	bc,0x42c8
   709  0131  c5                	push	bc
   710  0132  010000            	ld	bc,0x0000
   711  0135  c5                	push	bc
   712  0136  d5                	push	de
   713  0137  e5                	push	hl
   714  0138  cd0000            	call	___fsdiv_callee
   715  013b  e3                	ex	(sp), hl
   716  013c  dd73f6            	ld	(ix-10),e
   717  013f  dd72f7            	ld	(ix-9),d
   718  0142  dd6efc            	ld	l,(ix-4)
   719  0145  dd66fd            	ld	h,(ix-3)
   720  0148  23                	inc	hl
   721  0149  23                	inc	hl
   722  014a  5e                	ld	e, (hl)
   723  014b  23                	inc	hl
   724  014c  56                	ld	d, (hl)
   725  014d  dd6efc            	ld	l,(ix-4)
   726  0150  dd66fd            	ld	h,(ix-3)
   727  0153  4e                	ld	c, (hl)
   728  0154  23                	inc	hl
   729  0155  46                	ld	b, (hl)
   730  0156  7b                	ld	a, e
   731  0157  91                	sub	a, c
   732  0158  5f                	ld	e, a
   733  0159  7a                	ld	a, d
   734  015a  98                	sbc	a, b
   735  015b  c5                	push	bc
   736  015c  57                	ld	d, a
   737  015d  d5                	push	de
   738  015e  cd0000            	call	___sint2fs_callee
   739  0161  d5                	push	de
   740  0162  e5                	push	hl
   741  0163  21f4ff            	ld	hl,-12
   742  0166  cd0000            	call	____sdcc_4_push_hlix
   743  0169  cd0000            	call	___fsmul_callee
   744  016c  01f7ff            	ld	bc,-9
   745  016f  cd0000            	call	____sdcc_store_dehl_bcix
   746  0172  cd0000            	call	___sint2fs_callee
   747  0175  d5                	push	de
   748  0176  e5                	push	hl
   749  0177  21f4ff            	ld	hl,-12
   750  017a  cd0000            	call	____sdcc_4_push_hlix
   751  017d  cd0000            	call	___fsadd_callee
   752  0180  d5                	push	de
   753  0181  e5                	push	hl
   754  0182  cd0000            	call	___fs2sint_callee
   755  0185  dd75fe            	ld	(ix-2),l
   756  0188  dd74ff            	ld	(ix-1),h
   757                          ;player_hits.c:119:
   758  018b  dd7ef8            	ld	a,(ix-8)
   759  018e  f5                	push	af
   760  018f  33                	inc	sp
   761  0190  dd6e04            	ld	l,(ix+4)
   762  0193  dd6605            	ld	h,(ix+5)
   763  0196  e5                	push	hl
   764  0197  cd4400            	call	_service_margin_y
   765  019a  f1                	pop	af
   766  019b  33                	inc	sp
   767  019c  5d                	ld	e, l
   768                          ;player_hits.c:120: // debug_draw_projection(target_x, target_y, COLOR_YELLOW);
   769  019d  dd4e04            	ld	c,(ix+4)
   770  01a0  dd4605            	ld	b,(ix+5)
   771  01a3  0a                	ld	a, (bc)
   772  01a4  cb47              	bit	0,a
   773  01a6  1600              	ld	d,0x00
   774  01a8  2017              	jr	NZ,l_service_hit_00105
   775  01aa  dd6efc            	ld	l,(ix-4)
   776  01ad  dd66fd            	ld	h,(ix-3)
   777  01b0  3e06              	ld	a,+((0x0006) & 0xFF)
   778  01b2  85                	add	a,l
   779  01b3  6f                	ld	l,a
   780  01b4  3e00              	ld	a,+((0x0006) / 256)
   781  01b6  8c                	adc	a,h
   782  01b7  67                	ld	h,a
   783  01b8  7e                	ld	a, (hl)
   784  01b9  23                	inc	hl
   785  01ba  66                	ld	h, (hl)
   786  01bb  6f                	ld	l, a
   787  01bc  af                	xor	a,a
   788  01bd  ed52              	sbc	hl,de
   789  01bf  180f              	jr	l_service_hit_00106
   790                          l_service_hit_00105:
   791  01c1  dd6efc            	ld	l,(ix-4)
   792  01c4  dd66fd            	ld	h,(ix-3)
   793  01c7  23                	inc	hl
   794  01c8  23                	inc	hl
   795  01c9  23                	inc	hl
   796  01ca  23                	inc	hl
   797  01cb  7e                	ld	a, (hl)
   798  01cc  23                	inc	hl
   799  01cd  66                	ld	h, (hl)
   800  01ce  6f                	ld	l, a
   801  01cf  19                	add	hl, de
   802                          l_service_hit_00106:
   803  01d0  dd75f9            	ld	(ix-7),l
   804  01d3  dd74fa            	ld	(ix-6),h
   805                          ;player_hits.c:124:
   806  01d6  dd7e06            	ld	a,(ix+6)
   807  01d9  dd77fb            	ld	(ix-5),a
   808  01dc  6f                	ld	l, a
   809  01dd  2600              	ld	h,0x00
   810  01df  dd74fc            	ld	(ix-4),h
   811  01e2  29                	add	hl, hl
   812  01e3  c5                	push	bc
   813  01e4  e5                	push	hl
   814  01e5  210000            	ld	hl,0x0000
   815  01e8  e5                	push	hl
   816  01e9  cd0000            	call	_normal_dist_random
   817  01ec  f1                	pop	af
   818  01ed  f1                	pop	af
   819  01ee  c1                	pop	bc
   820  01ef  dd5efe            	ld	e,(ix-2)
   821  01f2  dd56ff            	ld	d,(ix-1)
   822  01f5  19                	add	hl, de
   823  01f6  dd75fd            	ld	(ix-3),l
   824  01f9  dd74fe            	ld	(ix-2),h
   825                          ;player_hits.c:125: // debug_draw_projection(target_x, target_y, COLOR_BLACK);
   826  01fc  dd5efb            	ld	e,(ix-5)
   827  01ff  dd56fc            	ld	d,(ix-4)
   828  0202  7a                	ld	a,d
   829  0203  07                	rlca
   830  0204  e601              	and	a,0x01
   831  0206  dd77ff            	ld	(ix-1),a
   832  0209  dd6efb            	ld	l,(ix-5)
   833  020c  dd66fc            	ld	h,(ix-4)
   834  020f  23                	inc	hl
   835  0210  dd7eff            	ld	a,(ix-1)
   836  0213  b7                	or	a, a
   837  0214  2802              	jr	Z,l_service_hit_00107
   838  0216  5d                	ld	e, l
   839  0217  54                	ld	d, h
   840                          l_service_hit_00107:
   841  0218  cb2a              	sra	d
   842  021a  cb1b              	rr	e
   843  021c  e5                	push	hl
   844  021d  c5                	push	bc
   845  021e  d5                	push	de
   846  021f  110000            	ld	de,0x0000
   847  0222  d5                	push	de
   848  0223  cd0000            	call	_normal_dist_random
   849  0226  f1                	pop	af
   850  0227  f1                	pop	af
   851  0228  eb                	ex	de, hl
   852  0229  c1                	pop	bc
   853  022a  e1                	pop	hl
   854  022b  7b                	ld	a, e
   855  022c  dd86f9            	add	a,(ix-7)
   856  022f  5f                	ld	e, a
   857  0230  7a                	ld	a, d
   858  0231  dd8efa            	adc	a,(ix-6)
   859  0234  57                	ld	d, a
   860                          ;player_hits.c:129:
   861  0235  e5                	push	hl
   862  0236  d5                	push	de
   863  0237  dd7ef8            	ld	a,(ix-8)
   864  023a  f5                	push	af
   865  023b  33                	inc	sp
   866  023c  c5                	push	bc
   867  023d  cd5800            	call	_service_margin_net
   868  0240  f1                	pop	af
   869  0241  33                	inc	sp
   870  0242  7d                	ld	a, l
   871  0243  d1                	pop	de
   872  0244  e1                	pop	hl
   873  0245  c612              	add	a,0x12
   874  0247  dd77fa            	ld	(ix-6),a
   875  024a  dd4efb            	ld	c,(ix-5)
   876  024d  dd46fc            	ld	b,(ix-4)
   877  0250  dd7eff            	ld	a,(ix-1)
   878  0253  b7                	or	a, a
   879  0254  2802              	jr	Z,l_service_hit_00108
   880  0256  4d                	ld	c, l
   881  0257  44                	ld	b, h
   882                          l_service_hit_00108:
   883  0258  cb28              	sra	b
   884  025a  cb19              	rr	c
   885  025c  d5                	push	de
   886  025d  c5                	push	bc
   887  025e  210000            	ld	hl,0x0000
   888  0261  e5                	push	hl
   889  0262  cd0000            	call	_normal_dist_random
   890  0265  f1                	pop	af
   891  0266  f1                	pop	af
   892  0267  d1                	pop	de
   893  0268  7d                	ld	a, l
   894  0269  dd86fa            	add	a,(ix-6)
   895                          ;player_hits.c:133:
   896  026c  f5                	push	af
   897  026d  33                	inc	sp
   898  026e  d5                	push	de
   899  026f  dd6efd            	ld	l,(ix-3)
   900  0272  dd66fe            	ld	h,(ix-2)
   901  0275  e5                	push	hl
   902  0276  cd0000            	call	_set_ball_velocity_net_height
   903                          ;player_hits.c:134: void standard_hit(Player *player, uint8_t ball_distance)
   904  0279  ddf9              	ld	sp,ix
   905  027b  dde1              	pop	ix
   906  027d  c9                	ret
   907                          ;player_hits.c:136: // debug_number("STD ball dist", ball_distance);
   908                          ;	---------------------------------
   909                          ; Function standard_hit
   910                          ; ---------------------------------
   911                          _standard_hit:
   912  027e  cd0000            	call	___sdcc_enter_ix
   913  0281  21efff            	ld	hl, -17
   914  0284  39                	add	hl, sp
   915  0285  f9                	ld	sp, hl
   916                          ;player_hits.c:139: int y_target_mean = player->id == PLAYER_BOTTOM ? (BASELINE_TOP + y_deviation) : (BASELINE_BOTTOM - y_deviation);
   917  0286  dd6e04            	ld	l,(ix+4)
   918  0289  dd6605            	ld	h,(ix+5)
   919  028c  e5                	push	hl
   920  028d  cd6c00            	call	_fast_std_hit
   921  0290  f1                	pop	af
   922  0291  dd75f3            	ld	(ix-13),l
   923                          ;player_hits.c:140: int y_target = limited_normal_dist_random(y_target_mean, y_deviation, y_deviation * 3);
   924  0294  dd7e06            	ld	a,(ix+6)
   925  0297  dd77f4            	ld	(ix-12),a
   926  029a  dd36f500          	ld	(ix-11),0x00
   927  029e  dd7e06            	ld	a,(ix+6)
   928  02a1  d614              	sub	a,0x14
   929  02a3  3005              	jr	NC,l_standard_hit_00103
   930  02a5  dd4ef4            	ld	c,(ix-12)
   931  02a8  1803              	jr	l_standard_hit_00104
   932                          l_standard_hit_00103:
   933  02aa  011400            	ld	bc,0x0014
   934                          l_standard_hit_00104:
   935                          ;player_hits.c:141:
   936  02ad  dd7e04            	ld	a,(ix+4)
   937  02b0  dd77fa            	ld	(ix-6),a
   938  02b3  6f                	ld	l, a
   939  02b4  dd7e05            	ld	a,(ix+5)
   940  02b7  dd77fb            	ld	(ix-5),a
   941  02ba  67                	ld	h,a
   942  02bb  5e                	ld	e, (hl)
   943  02bc  0600              	ld	b,0x00
   944  02be  cb43              	bit	0, e
   945  02c0  2806              	jr	Z,l_standard_hit_00105
   946  02c2  216400            	ld	hl,0x0064
   947  02c5  09                	add	hl, bc
   948  02c6  1806              	jr	l_standard_hit_00106
   949                          l_standard_hit_00105:
   950  02c8  af                	xor	a,a
   951  02c9  21dc00            	ld	hl,0x00dc
   952  02cc  ed42              	sbc	hl,bc
   953                          l_standard_hit_00106:
   954                          ;player_hits.c:142: float y_distance = ABS(y_target - ball.y);
   955  02ce  59                	ld	e,c
   956  02cf  50                	ld	d,b
   957  02d0  eb                	ex	de,hl
   958  02d1  29                	add	hl, hl
   959  02d2  09                	add	hl, bc
   960  02d3  e5                	push	hl
   961  02d4  c5                	push	bc
   962  02d5  d5                	push	de
   963  02d6  cd0000            	call	_limited_normal_dist_random
   964  02d9  f1                	pop	af
   965  02da  f1                	pop	af
   966  02db  f1                	pop	af
   967  02dc  dd75f6            	ld	(ix-10),l
   968  02df  dd74f7            	ld	(ix-9),h
   969                          ;player_hits.c:144: float x_max_opposed_range = STD_HIT_MAX_X_COUNTER_HIT_RANGE * (y_distance / VALID_COURT_AREA_HEIGHT);
   970  02e2  110400            	ld	de,_ball + 4
   971  02e5  210d00            	ld	hl,13
   972  02e8  39                	add	hl, sp
   973  02e9  eb                	ex	de, hl
   974  02ea  cd0000            	call	____sdcc_4_ldi_nosave_bc
   975  02ed  dd6ef6            	ld	l,(ix-10)
   976  02f0  dd66f7            	ld	h,(ix-9)
   977  02f3  e5                	push	hl
   978  02f4  cd0000            	call	___sint2fs_callee
   979  02f7  dd4efe            	ld	c,(ix-2)
   980  02fa  dd46ff            	ld	b,(ix-1)
   981  02fd  c5                	push	bc
   982  02fe  dd4efc            	ld	c,(ix-4)
   983  0301  dd46fd            	ld	b,(ix-3)
   984  0304  c5                	push	bc
   985  0305  d5                	push	de
   986  0306  e5                	push	hl
   987  0307  cd0000            	call	___fssub_callee
   988  030a  e5                	push	hl
   989  030b  4d                	ld	c,l
   990  030c  44                	ld	b,h
   991  030d  d5                	push	de
   992  030e  210000            	ld	hl,0x0000
   993  0311  e5                	push	hl
   994  0312  e5                	push	hl
   995  0313  d5                	push	de
   996  0314  c5                	push	bc
   997  0315  cd0000            	call	___fslt_callee
   998  0318  7d                	ld	a, l
   999  0319  d1                	pop	de
  1000  031a  c1                	pop	bc
  1001  031b  b7                	or	a, a
  1002  031c  2804              	jr	Z,l_standard_hit_00107
  1003  031e  7a                	ld	a, d
  1004  031f  ee80              	xor	a,0x80
  1005  0321  57                	ld	d, a
  1006                          l_standard_hit_00107:
  1007                          ;player_hits.c:145:
  1008  0322  21f042            	ld	hl,0x42f0
  1009  0325  e5                	push	hl
  1010  0326  210000            	ld	hl,0x0000
  1011  0329  e5                	push	hl
  1012  032a  d5                	push	de
  1013  032b  c5                	push	bc
  1014  032c  cd0000            	call	___fsdiv_callee
  1015  032f  01ffff            	ld	bc,-1
  1016  0332  cd0000            	call	____sdcc_store_dehl_bcix
  1017  0335  dd7e06            	ld	a,(ix+6)
  1018  0338  f5                	push	af
  1019  0339  33                	inc	sp
  1020  033a  cd0000            	call	___uchar2fs_callee
  1021  033d  dd4efe            	ld	c,(ix-2)
  1022  0340  dd46ff            	ld	b,(ix-1)
  1023  0343  c5                	push	bc
  1024  0344  dd4efc            	ld	c,(ix-4)
  1025  0347  dd46fd            	ld	b,(ix-3)
  1026  034a  c5                	push	bc
  1027  034b  d5                	push	de
  1028  034c  e5                	push	hl
  1029  034d  cd0000            	call	___fsmul_callee
  1030  0350  e5                	push	hl
  1031  0351  d5                	push	de
  1032  0352  013442            	ld	bc,0x4234
  1033  0355  c5                	push	bc
  1034  0356  010000            	ld	bc,0x0000
  1035  0359  c5                	push	bc
  1036  035a  d5                	push	de
  1037  035b  e5                	push	hl
  1038  035c  cd0000            	call	___fslt_callee
  1039  035f  7d                	ld	a, l
  1040  0360  d1                	pop	de
  1041  0361  e1                	pop	hl
  1042  0362  b7                	or	a, a
  1043  0363  2006              	jr	NZ,l_standard_hit_00110
  1044  0365  113442            	ld	de,0x4234
  1045  0368  210000            	ld	hl,0x0000
  1046                          l_standard_hit_00110:
  1047  036b  d5                	push	de
  1048  036c  e5                	push	hl
  1049  036d  cd0000            	call	___fs2uchar_callee
  1050  0370  dd75f8            	ld	(ix-8),l
  1051                          ;player_hits.c:149:
  1052  0373  dd6efa            	ld	l,(ix-6)
  1053  0376  dd66fb            	ld	h,(ix-5)
  1054  0379  23                	inc	hl
  1055  037a  23                	inc	hl
  1056  037b  23                	inc	hl
  1057  037c  7e                	ld	a, (hl)
  1058  037d  d604              	sub	a,0x04
  1059  037f  2004              	jr	NZ,l_standard_hit_00165
  1060  0381  3e01              	ld	a,0x01
  1061  0383  1801              	jr	l_standard_hit_00166
  1062                          l_standard_hit_00165:
  1063  0385  af                	xor	a,a
  1064                          l_standard_hit_00166:
  1065  0386  dd6efa            	ld	l,(ix-6)
  1066  0389  dd66fb            	ld	h,(ix-5)
  1067  038c  4e                	ld	c, (hl)
  1068  038d  a9                	xor	a, c
  1069  038e  4f                	ld	c, a
  1070  038f  af                	xor	a, a
  1071  0390  b9                	cp	a, c
  1072  0391  17                	rla
  1073  0392  dd77f9            	ld	(ix-7),a
  1074                          ;player_hits.c:150: int counter_hit_range = STD_HIT_MAX_X_COUNTER_HIT_RANGE * (y_distance / VALID_COURT_AREA_HEIGHT);
  1075  0395  dd6efa            	ld	l,(ix-6)
  1076  0398  dd66fb            	ld	h,(ix-5)
  1077  039b  e5                	push	hl
  1078  039c  cd0000            	call	_fast_service
  1079  039f  f1                	pop	af
  1080  03a0  7d                	ld	a, l
  1081  03a1  f5                	push	af
  1082  03a2  33                	inc	sp
  1083  03a3  dd6e04            	ld	l,(ix+4)
  1084  03a6  dd6605            	ld	h,(ix+5)
  1085  03a9  e5                	push	hl
  1086  03aa  cd1400            	call	_service_target_x
  1087  03ad  f1                	pop	af
  1088  03ae  33                	inc	sp
  1089                          ;player_hits.c:152: int x_max = back_hand ? RIGHT_SIDE_LINE : MIN(RIGHT_SIDE_LINE, ball.x + counter_hit_range);
  1090  03af  21fcff            	ld	hl,-4
  1091  03b2  cd0000            	call	____sdcc_4_push_hlix
  1092  03b5  21c841            	ld	hl,0x41c8
  1093  03b8  e5                	push	hl
  1094  03b9  210000            	ld	hl,0x0000
  1095  03bc  e5                	push	hl
  1096  03bd  cd0000            	call	___fsmul_callee
  1097  03c0  d5                	push	de
  1098  03c1  e5                	push	hl
  1099  03c2  cd0000            	call	___fs2sint
  1100  03c5  f1                	pop	af
  1101                          ;player_hits.c:153:
  1102  03c6  e3                	ex	(sp),hl
  1103  03c7  cd0000            	call	___sint2fs_callee
  1104  03ca  01fdff            	ld	bc,-3
  1105  03cd  cd0000            	call	____sdcc_store_dehl_bcix
  1106  03d0  ddcbf946          	bit	0,(ix-7)
  1107  03d4  284f              	jr	Z,l_standard_hit_00111
  1108  03d6  ed4b0000          	ld	bc,(_ball)
  1109  03da  2a0200            	ld	hl, (_ball + 2)
  1110  03dd  dd5efc            	ld	e,(ix-4)
  1111  03e0  dd56fd            	ld	d,(ix-3)
  1112  03e3  d5                	push	de
  1113  03e4  dd5efa            	ld	e,(ix-6)
  1114  03e7  dd56fb            	ld	d,(ix-5)
  1115  03ea  d5                	push	de
  1116  03eb  e5                	push	hl
  1117  03ec  c5                	push	bc
  1118  03ed  cd0000            	call	___fssub_callee
  1119  03f0  e5                	push	hl
  1120  03f1  d5                	push	de
  1121  03f2  017042            	ld	bc,0x4270
  1122  03f5  c5                	push	bc
  1123  03f6  010000            	ld	bc,0x0000
  1124  03f9  c5                	push	bc
  1125  03fa  d5                	push	de
  1126  03fb  e5                	push	hl
  1127  03fc  cd0000            	call	___fslt_callee
  1128  03ff  7d                	ld	a, l
  1129  0400  d1                	pop	de
  1130  0401  e1                	pop	hl
  1131  0402  b7                	or	a, a
  1132  0403  2811              	jr	Z,l_standard_hit_00113
  1133  0405  af                	xor	a, a
  1134  0406  dd77ef            	ld	(ix-17),a
  1135  0409  dd77f0            	ld	(ix-16),a
  1136  040c  dd36f170          	ld	(ix-15),0x70
  1137  0410  dd36f242          	ld	(ix-14),0x42
  1138  0414  1807              	jr	l_standard_hit_00114
  1139                          l_standard_hit_00113:
  1140  0416  e3                	ex	(sp), hl
  1141  0417  dd73f1            	ld	(ix-15),e
  1142  041a  dd72f2            	ld	(ix-14),d
  1143                          l_standard_hit_00114:
  1144  041d  e1                	pop	hl
  1145  041e  4d                	ld	c,l
  1146  041f  44                	ld	b,h
  1147  0420  d1                	pop	de
  1148  0421  d5                	push	de
  1149  0422  e5                	push	hl
  1150  0423  1806              	jr	l_standard_hit_00112
  1151                          l_standard_hit_00111:
  1152  0425  010000            	ld	bc,0x0000
  1153  0428  117042            	ld	de,0x4270
  1154                          l_standard_hit_00112:
  1155  042b  d5                	push	de
  1156  042c  c5                	push	bc
  1157  042d  cd0000            	call	___fs2sint_callee
  1158  0430  dd75fe            	ld	(ix-2),l
  1159  0433  dd74ff            	ld	(ix-1),h
  1160                          ;player_hits.c:154: // if (player->id == PLAYER_BOTTOM)
  1161  0436  ddcbf946          	bit	0,(ix-7)
  1162  043a  2808              	jr	Z,l_standard_hit_00115
  1163  043c  010080            	ld	bc,0x8000
  1164  043f  118243            	ld	de,0x4382
  1165  0442  1837              	jr	l_standard_hit_00116
  1166                          l_standard_hit_00115:
  1167  0444  ed4b0000          	ld	bc,(_ball)
  1168  0448  2a0200            	ld	hl, (_ball + 2)
  1169  044b  dd5efc            	ld	e,(ix-4)
  1170  044e  dd56fd            	ld	d,(ix-3)
  1171  0451  d5                	push	de
  1172  0452  dd5efa            	ld	e,(ix-6)
  1173  0455  dd56fb            	ld	d,(ix-5)
  1174  0458  d5                	push	de
  1175  0459  e5                	push	hl
  1176  045a  c5                	push	bc
  1177  045b  cd0000            	call	___fsadd_callee
  1178  045e  e5                	push	hl
  1179  045f  4d                	ld	c,l
  1180  0460  44                	ld	b,h
  1181  0461  d5                	push	de
  1182  0462  d5                	push	de
  1183  0463  c5                	push	bc
  1184  0464  218243            	ld	hl,0x4382
  1185  0467  e5                	push	hl
  1186  0468  210080            	ld	hl,0x8000
  1187  046b  e5                	push	hl
  1188  046c  cd0000            	call	___fslt_callee
  1189  046f  7d                	ld	a, l
  1190  0470  d1                	pop	de
  1191  0471  c1                	pop	bc
  1192  0472  b7                	or	a, a
  1193  0473  2806              	jr	Z,l_standard_hit_00117
  1194  0475  010080            	ld	bc,0x8000
  1195  0478  118243            	ld	de,0x4382
  1196                          l_standard_hit_00117:
  1197                          l_standard_hit_00116:
  1198  047b  d5                	push	de
  1199  047c  c5                	push	bc
  1200  047d  cd0000            	call	___fs2sint
  1201  0480  f1                	pop	af
  1202                          ;player_hits.c:164: float x_target = limited_normal_dist_random(x_mean, x_deviation, x_deviation * 3);
  1203  0481  e3                	ex	(sp),hl
  1204  0482  dd7ef3            	ld	a,(ix-13)
  1205  0485  f5                	push	af
  1206  0486  33                	inc	sp
  1207  0487  dd6e04            	ld	l,(ix+4)
  1208  048a  dd6605            	ld	h,(ix+5)
  1209  048d  e5                	push	hl
  1210  048e  cd9800            	call	_std_hit_target_x
  1211  0491  f1                	pop	af
  1212  0492  33                	inc	sp
  1213  0493  7d                	ld	a, l
  1214  0494  f5                	push	af
  1215  0495  33                	inc	sp
  1216  0496  cd0000            	call	___schar2fs_callee
  1217  0499  c1                	pop	bc
  1218  049a  c5                	push	bc
  1219  049b  ed8a42c8          	push	+0x42c8
  1220  049f  ed8a0000          	push	+0x0000
  1221  04a3  d5                	push	de
  1222  04a4  e5                	push	hl
  1223  04a5  cd0000            	call	___fsdiv_callee
  1224  04a8  01fdff            	ld	bc,-3
  1225  04ab  cd0000            	call	____sdcc_store_dehl_bcix
  1226  04ae  c1                	pop	bc
  1227  04af  79                	ld	a, c
  1228  04b0  dd96fe            	sub	a,(ix-2)
  1229  04b3  4f                	ld	c, a
  1230  04b4  78                	ld	a, b
  1231  04b5  dd9eff            	sbc	a,(ix-1)
  1232  04b8  47                	ld	b, a
  1233  04b9  c5                	push	bc
  1234  04ba  cd0000            	call	___sint2fs_callee
  1235  04bd  d5                	push	de
  1236  04be  e5                	push	hl
  1237  04bf  21faff            	ld	hl,-6
  1238  04c2  cd0000            	call	____sdcc_4_push_hlix
  1239  04c5  cd0000            	call	___fsmul_callee
  1240  04c8  01fdff            	ld	bc,-3
  1241  04cb  cd0000            	call	____sdcc_store_dehl_bcix
  1242  04ce  dd6efe            	ld	l,(ix-2)
  1243  04d1  dd66ff            	ld	h,(ix-1)
  1244  04d4  e5                	push	hl
  1245  04d5  cd0000            	call	___sint2fs_callee
  1246  04d8  dd4efc            	ld	c,(ix-4)
  1247  04db  dd46fd            	ld	b,(ix-3)
  1248  04de  c5                	push	bc
  1249  04df  dd4efa            	ld	c,(ix-6)
  1250  04e2  dd46fb            	ld	b,(ix-5)
  1251  04e5  c5                	push	bc
  1252  04e6  d5                	push	de
  1253  04e7  e5                	push	hl
  1254  04e8  cd0000            	call	___fsadd_callee
  1255  04eb  d5                	push	de
  1256  04ec  e5                	push	hl
  1257  04ed  cd0000            	call	___fs2sint_callee
  1258  04f0  eb                	ex	de, hl
  1259                          ;player_hits.c:166: uint8_t net_height = normal_dist_random(MAXIMUM_NET_HEIGHT + std_hit_margin_net(player, fast), ball_distance / 2);
  1260  04f1  dd6ef8            	ld	l,(ix-8)
  1261  04f4  2600              	ld	h,0x00
  1262  04f6  4d                	ld	c,l
  1263  04f7  44                	ld	b,h
  1264  04f8  29                	add	hl, hl
  1265  04f9  09                	add	hl, bc
  1266  04fa  e5                	push	hl
  1267  04fb  c5                	push	bc
  1268  04fc  d5                	push	de
  1269  04fd  cd0000            	call	_limited_normal_dist_random
  1270  0500  f1                	pop	af
  1271  0501  f1                	pop	af
  1272  0502  e3                	ex	(sp),hl
  1273  0503  cd0000            	call	___sint2fs_callee
  1274  0506  01ffff            	ld	bc,-1
  1275  0509  cd0000            	call	____sdcc_store_dehl_bcix
  1276                          ;player_hits.c:168: set_ball_velocity_net_height(x_target, y_target, net_height);
  1277  050c  dd4ef4            	ld	c,(ix-12)
  1278  050f  dd46f5            	ld	b,(ix-11)
  1279  0512  cb78              	bit	7,b
  1280  0514  2807              	jr	Z,l_standard_hit_00119
  1281  0516  dd4ef4            	ld	c,(ix-12)
  1282  0519  dd46f5            	ld	b,(ix-11)
  1283  051c  03                	inc	bc
  1284                          l_standard_hit_00119:
  1285  051d  cb28              	sra	b
  1286  051f  cb19              	rr	c
  1287  0521  c5                	push	bc
  1288  0522  dd7ef3            	ld	a,(ix-13)
  1289  0525  f5                	push	af
  1290  0526  33                	inc	sp
  1291  0527  dd6e04            	ld	l,(ix+4)
  1292  052a  dd6605            	ld	h,(ix+5)
  1293  052d  e5                	push	hl
  1294  052e  cdc800            	call	_std_hit_margin_net
  1295  0531  f1                	pop	af
  1296  0532  33                	inc	sp
  1297  0533  c1                	pop	bc
  1298  0534  2600              	ld	h,0x00
  1299  0536  3e12              	ld	a,0x12
  1300  0538  ed31              	add	hl, a
  1301  053a  c5                	push	bc
  1302  053b  e5                	push	hl
  1303  053c  cd0000            	call	_normal_dist_random
  1304  053f  f1                	pop	af
  1305  0540  f1                	pop	af
  1306  0541  45                	ld	b, l
  1307                          ;player_hits.c:170: ERROR: no line number 170 in file player_hits.c
  1308  0542  c5                	push	bc
  1309  0543  21fcff            	ld	hl,-4
  1310  0546  cd0000            	call	____sdcc_4_push_hlix
  1311  0549  cd0000            	call	___fs2sint_callee
  1312  054c  33                	inc	sp
  1313  054d  dd5ef6            	ld	e,(ix-10)
  1314  0550  dd56f7            	ld	d,(ix-9)
  1315  0553  d5                	push	de
  1316  0554  e5                	push	hl
  1317  0555  cd0000            	call	_set_ball_velocity_net_height
  1318                          ;player_hits.c:171: ERROR: no line number 171 in file player_hits.c
  1319  0558  ddf9              	ld	sp,ix
  1320  055a  dde1              	pop	ix
  1321  055c  c9                	ret
  1322                          	SECTION IGNORE
  1323                          
